{"version":3,"sources":["auth/action-types.ts","auth/reducer.ts","pages/ad-edit/actions/action-types.ts","data-interfaces/enums/body-type.ts","data-interfaces/enums/car-model.ts","data-interfaces/enums/car-brand.ts","data-interfaces/enums/condition.ts","data-interfaces/enums/engine-type.ts","data-interfaces/enums/transmission.ts","data-interfaces/enums/type-of-drive.ts","data-interfaces/enums/color.ts","data-interfaces/enums/trim-material.ts","fake-server/fake-data.ts","pages/listing/actions/action-types.ts","pages/ad-edit/reducer.ts","pages/listing/reducer.ts","pages/ad-view/actions/action-types.ts","pages/ad-view/reducer.ts","pages/page/action-types.ts","pages/page/reducer.ts","store/root-reducer.ts","store/index.ts","components/error-boundary/index.tsx","helpers/route-paths.ts","styles/styled.ts","fake-server/helpers/index.ts","components/layout/styled.ts","fake-server/helpers/ad-helpers.ts","fake-server/helpers/car-helpers.ts","fake-server/helpers/user-helpers.ts","helpers/mappers.ts","fake-server/fake-server.ts","pages/page/action-creators.ts","auth/actions.ts","auth/action-creators.ts","components/layout/header/index.tsx","components/layout/header/component.tsx","components/loader/styled.ts","components/loader/index.tsx","components/layout/index.ts","components/layout/component.tsx","helpers/hocs/field-render.tsx","helpers/fields.tsx","pages/login/styled.ts","helpers/validation-rules.ts","pages/login/form-settings.tsx","pages/login/actions.ts","pages/login/index.ts","pages/login/form.tsx","pages/listing/settings.ts","components/icons/styled.ts","components/icons/icon-text.tsx","components/icons/index.tsx","pages/listing/item.tsx","pages/listing/component.tsx","pages/listing/actions/action-creators.ts","pages/listing/actions/actions.ts","pages/listing/index.tsx","pages/ad-edit/styled.ts","data-interfaces/enums/currency.ts","pages/ad-edit/form-settings.ts","helpers/form-helpers.tsx","pages/ad-edit/fields.tsx","pages/ad-edit/form.tsx","pages/ad-edit/actions/action-creators.ts","pages/ad-edit/actions/actions.ts","pages/ad-edit/index.tsx","pages/ad-view/label-infromation/styled.ts","pages/ad-view/label-infromation/index.tsx","components/comment/editor.tsx","components/comment/comment-list.tsx","components/comment/comments.tsx","pages/ad-view/actions/action-creators.ts","pages/ad-view/actions/actions.ts","pages/ad-view/selectors/index.ts","pages/ad-view/comments/index.tsx","pages/ad-view/buttons/styled.ts","pages/ad-view/buttons/index.ts","pages/ad-view/buttons/component.tsx","pages/ad-view/styled.ts","pages/ad-view/component.tsx","pages/ad-view/index.ts","pages/not-found/index.tsx","helpers/hocs/authorization.tsx","components/app/actions.ts","pages/loading/styled.ts","pages/loading/index.tsx","components/app/component.tsx","components/app/index.tsx","index.tsx"],"names":["AuthActionTypes","AdActionTypes","BodyType","CarModel","CarBrand","Condition","EngineType","Transmission","TypeOfDrive","Color","TrimMaterial","initialState","token","userId","firstName","secondName","isAdmin","ListingActionTypes","carToModel","Map","BMW","M5","M6","X5","X6","Ford","Focus","Mustang","Galaxy","defaultPhoto","defaultAvatar","defaultMetadata","avatar","stars","views","comments","cars","carId","carBrand","model","yearOfIssue","bodyType","Crossover","modification","condition","Used","price","notes","photo","Hatchback","Sedan","Damaged","ForParts","users","nickname","password","dateTime","adId","author","concat","text","metaData","ads","user","car","meta","emptyCar","emptyAd","defaultListing","brandOptions","List","modelOptions","brandsLoading","modelsLoading","modelDisabled","initialValues","fromJS","ViewActionTypes","items","isLoaded","total","PageActionTypes","data","isOwner","removing","commenting","pageIsLoading","contentIsLoading","store","userAuth","state","arguments","length","undefined","action","type","AUTHENTICATION_SUCCESS","set","payload","form","formReducer","ad","GET_BRANDS_REQUEST","BRANDS_FETCHED","options","GET_MODELS_REQUEST","MODELS_FETCHED","CAR_LOADED","values","RESET_INITIAL_VALUES","listing","ADS_FETCHED","RESET","SET_TOTAL","view","AD_FETCHED","SET_IS_OWNER","SET_REMOVING","SET_COMMENTING","PUSH_COMMENT","getIn","get","push","comment","setIn","page","PAGE_LOADING","PAGE_LOADED","CONTENT_LOADING","CONTENT_LOADED","combineReducers","enhancer","composeWithDevTools","applyMiddleware","thunk","createStore","reducer","ErrorBoundary","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","hasError","render","react_default","a","createElement","props","children","inherits","createClass","key","value","error","info","setState","console","React","Component","routePaths","home","login","register","adCreate","notFound","adEdit","id","adView","Styled","Link","styled","RouterLink","_templateObject","LocalStorageKeys","AntdHeader","AntdLayout","Header","AntdContent","Content","AntdFooter","Footer","RightMenu","div","styled_templateObject","RightMenuLink","CommonStyled","_templateObject2","_templateObject3","Body","_templateObject4","ContentWrapper","_templateObject5","_templateObject6","isLoading","_templateObject7","Layout","_templateObject8","PageHeader","h2","_templateObject9","getLocalAds","jsonAds","localStorage","getItem","JSON","parse","insertAds","setItem","stringify","getLocalCars","jsonCars","insertCars","getUsers","getUser","Cookies","COOKIE_PATH","find","sleep","ms","Promise","resolve","setTimeout","newAds","map","objectSpread","Math","max","c","toConsumableArray","commentModel","getUserById","newCars","mapUserToUserData","objectWithoutProperties","getUserId","mapEnumToSelectOptions","dataEnum","keys","filter","x","isNaN","Number","name","loginValidate","_ref","asyncToGenerator","regenerator_default","mark","_callee","result","wrap","_context","prev","next","u","userName","errors","abrupt","stop","_x","fetchUserSession","_ref2","_callee2","_context2","_x2","getBrands","_ref3","_callee3","_context3","getModels","_ref4","_callee4","brand","models","_context4","m","_x3","getCar","_ref5","_callee5","_context5","_x4","saveCar","_ref7","_callee7","_context7","_x5","removeCar","_ref8","_callee8","_context8","_x6","getAds","_ref9","_callee9","pageSize","_context9","splice","_x7","_x8","getAdsCount","_ref10","_callee10","_context10","getAd","_ref11","_callee11","_context11","_x9","_ref12","_callee12","_context12","_x10","commentOn","_ref13","_callee13","_context13","_x11","pageLoaded","contentLoading","contentLoaded","fetchUserData","dispatch","sent","message","userData","logout","callback","remove","LOGOUT","ConnectedHeader","connect","isAuthenticated","logoutRedirect","history","styled_Styled","to","Fragment","es_icon","onClick","withRouter","Loader","Spin","loader_styled_templateObject","loader_styled_Styled","tip","size","spinning","header_Header","loader_Loader","fieldRenderOnChange","reduxOnChange","onChangeCallback","event","fieldRender","input","hasFeedback","label","labelCol","wrapperCol","required","rest","touched","invalid","es_form","Item","validateStatus","help","assign","onChange","Input","es_input","RadioGroup","es_radio","Group","Select","es_select","Checkbox","es_checkbox","TextArea","date_picker","RangePicker","input_number","Form","FormComponent","login_styled_templateObject","Icon","IconComponent","styled_templateObject2","LoginFormButton","Button","attrs","htmlType","styled_templateObject3","requiredNamed","trim","onlyNumber","fields","userNameValidate","passwordValidate","icon","iconType","login_styled_Styled","checkboxStyles","marginBottom","successCallback","SubmissionError","ReduxLoginForm","reduxForm","onSubmit","_onSubmit","toJS","handleSubmit","submitting","immutable","component","prefix","placeholder","validate","defaultChecked","styles","loading","LoginPage","item","skeletonParagraph","rows","imageWidth","AIcon","icons_styled_templateObject","IconText","icons_styled_Styled","icons","icon_text_IconText","toString","_props$toJS","IsLoading","list","actions","extra","width","alt","src","skeleton","active","paragraph","Meta","es_avatar","title","description","Listing","_this$props","loadAds","itemLayout","pagination","dataSource","renderItem","loadTotal","reset","_loadAds2","t0","t1","ListingComponent","Currency","AForm","ad_edit_styled_templateObject","SubmitButton","ad_edit_styled_templateObject2","CurrenciesPostfix","ad_edit_styled_templateObject3","array","formItemLayout","xs","span","sm","tailFormItemLayout","offset","year","body","currencies","Option","optionsFromSelectOptions","selectOptions","option","AdFormSelectField","AdFormRadioField","propsWithoutOptions","AdForm","_componentDidMount","match","path","loadCar","loadBrands","resetForm","pristine","changeBrand","cancel","ad_edit_styled_Styled","fields_AdFormSelectField","disabled","fields_AdFormRadioField","addonAfter","defaultValue","es_button","getModelsRequest","change","loadModels","notFoundCallback","initialize","submit","success","formReset","AdFormComponent","ReduxAdForm","params","notFoundRedirect","_loadBrands2","_changeBrand2","_loadCar2","AdEditPage","LabelInformation","label_infromation_styled_templateObject","Value","label_infromation_styled_templateObject2","label_infromation_styled_Styled","Editor","editor_TextArea","CommentList","content","header","es_comment","Comments","handleChange","e","target","isAuth","comment_list_CommentList","editor_Editor","setRemoving","setCommenting","pushComment","loadAd","isOwnerResult","getState","Date","toLocaleString","commentOnCall","getComments","datetime","_submit","CommentsComponent","EditButton","buttons_styled_templateObject","RemoveButton","buttons_styled_templateObject2","Buttons","buttons_styled_templateObject3","ConnectedButtons","successRedirect","edit","_remove2","buttons_styled_Styled","ad_view_styled_templateObject","Row","ARow","ad_view_styled_templateObject2","Information","ad_view_styled_templateObject3","Labels","styled_templateObject4","Price","h1","styled_templateObject5","labels","AdView","_this$props$data","buttons_Buttons","ad_view_styled_Styled","col","label_infromation_LabelInformation","ad_view_comments_Comments","_loadAd2","AdViewComponent","AdViewPage","NotFound","withAuthorization","isAuthorized","componentProps","Redirect","setDataToLocalStorage","ASpin","loading_styled_templateObject","ALayout","loading_styled_templateObject2","Loading","loading_styled_Styled","App","loading_Loading","Switch","Route","layout_Layout","exact","initAuth","_initAuth2","oauthToken","AppComponent","ReactDOM","es","error_boundary_ErrorBoundary","BrowserRouter","app","document","getElementById"],"mappings":"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","file":"static/js/main.5e14088e.chunk.js","sourcesContent":["export enum AuthActionTypes {\r\n\tAUTHENTICATION_SUCCESS = 'AUTHENTICATION_SUCCESS',\r\n\tLOGOUT = 'LOGOUT',\r\n}\r\n","import { fromJS } from 'immutable';\r\n\r\nimport { AuthActionTypes } from './action-types';\r\nimport { AuthAction } from './action-creators';\r\nimport { StrictImmutable } from '../helpers/strict-immutable';\r\n\r\nexport interface UserAuthState {\r\n\ttoken: string;\r\n\tuserId: number | null;\r\n\tfirstName: string;\r\n\tsecondName: string;\r\n\tisAdmin: boolean;\r\n}\r\n\r\nconst initialState: UserAuthState = {\r\n\ttoken: '',\r\n\tuserId: null,\r\n\tfirstName: '',\r\n\tsecondName: '',\r\n\tisAdmin: false,\r\n};\r\n\r\nexport const userAuthReducer = (\r\n\tstate: StrictImmutable<UserAuthState> = fromJS(initialState),\r\n\taction: AuthAction,\r\n): StrictImmutable<UserAuthState> => {\r\n\tswitch (action.type) {\r\n\t\tcase AuthActionTypes.AUTHENTICATION_SUCCESS:\r\n\t\t\treturn state\r\n\t\t\t\t.set('token', action.payload.token)\r\n\t\t\t\t.set('userId', action.payload.userId)\r\n\t\t\t\t.set('firstName', action.payload.firstName)\r\n\t\t\t\t.set('secondName', action.payload.secondName)\r\n\t\t\t\t.set('isAdmin', action.payload.isAdmin);\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export enum AdActionTypes {\r\n\tGET_BRANDS_REQUEST = 'GET_BRANDS_REQUEST',\r\n\tGET_MODELS_REQUEST = 'GET_MODELS_REQUEST',\r\n\tBRANDS_FETCHED = 'BRANDS_FETCHED',\r\n\tMODELS_FETCHED = 'MODELS_FETCHED',\r\n\tCAR_LOADED = 'CAR_LOADED',\r\n\tRESET_INITIAL_VALUES = 'RESET_INITIAL_VALUES',\r\n}\r\n","export enum BodyType {\r\n\tSedan,\r\n\tHatchback,\r\n\tCrossover,\r\n\tConvertible,\r\n\tMiniVan,\r\n\tSUV,\r\n}\r\n","export enum CarModel {\r\n\tM5,\r\n\tM6,\r\n\tX5,\r\n\tX6,\r\n\tFocus,\r\n\tMustang,\r\n\tGalaxy,\r\n}\r\n","export enum CarBrand {\r\n\tBMW,\r\n\tFord,\r\n\tMercedes,\r\n\tNissan,\r\n\tVolkswagen,\r\n\tMoskvitch,\r\n}\r\n","export enum Condition {\r\n\tUsed,\r\n\tDamaged,\r\n\tForParts,\r\n}\r\n","export enum EngineType {\r\n\tPetrol = 'Petrol',\r\n\tDiesel = 'Diesel',\r\n\tElectro = 'Electro',\r\n}\r\n","export enum Transmission {\r\n    Automatic = 'Automatic',\r\n    Mechanical = 'Mechanical',\r\n}","export enum TypeOfDrive {\r\n\tFront = 'Front',\r\n\tRear = 'Rear',\r\n\tFourWheel = 'FourWheel',\r\n}\r\n","export enum Color {\r\n\tYellow = 'Yellow',\r\n\tRed = 'Red',\r\n\tBlack = 'Black',\r\n\tWhite = 'White',\r\n\tBlue = 'Blue',\r\n\tGrey = 'Grey',\r\n\tSilver = 'Silver',\r\n}\r\n","export enum TrimMaterial {\r\n\tLeather = 'Leather',\r\n\tImitationLeather = 'Imitation Leather',\r\n\tCloth = 'Cloth',\r\n\tVelours = 'Velours',\r\n}\r\n","import { Ad } from './../data-interfaces/interfaces/ad';\r\nimport { CarBrand, CarModel, BodyType, Condition } from '../data-interfaces/enums';\r\nimport { User } from '../data-interfaces/interfaces/user';\r\nimport { Car } from '../data-interfaces/interfaces/car';\r\nimport { Comment } from '../data-interfaces/interfaces/comment';\r\nimport { MetaData } from '../data-interfaces/interfaces/meta-data';\r\n\r\nexport const carToModel = new Map<CarBrand, CarModel[]>([\r\n\t[CarBrand.BMW, [CarModel.M5, CarModel.M6, CarModel.X5, CarModel.X6]],\r\n\t[CarBrand.Ford, [CarModel.Focus, CarModel.Mustang, CarModel.Galaxy]],\r\n]);\r\n\r\nexport const defaultPhoto = 'https://kor.ill.in.ua/m/610x385/2081558.jpg';\r\nexport const defaultAvatar = 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png';\r\n\r\nexport const defaultMetadata: MetaData = {\r\n\tavatar: defaultAvatar,\r\n\tstars: 0,\r\n\tviews: 0,\r\n\tcomments: [],\r\n};\r\n\r\nexport const cars: Car[] = [\r\n\t{\r\n\t\tcarId: 1,\r\n\t\tcarBrand: CarBrand.BMW,\r\n\t\tmodel: CarModel.X5,\r\n\t\tyearOfIssue: 2010,\r\n\t\tbodyType: BodyType.Crossover,\r\n\t\tmodification: 'Modification XXX',\r\n\t\tcondition: Condition.Used,\r\n\t\tprice: 5000,\r\n\t\tnotes: 'Just notes.',\r\n\t\tphoto: defaultPhoto,\r\n\t},\r\n\t{\r\n\t\tcarId: 2,\r\n\t\tcarBrand: CarBrand.BMW,\r\n\t\tmodel: CarModel.X6,\r\n\t\tyearOfIssue: 2015,\r\n\t\tbodyType: BodyType.Hatchback,\r\n\t\tmodification: 'Modification XLR',\r\n\t\tcondition: Condition.Used,\r\n\t\tprice: 13000,\r\n\t\tnotes: 'The best car.',\r\n\t\tphoto: defaultPhoto,\r\n\t},\r\n\t{\r\n\t\tcarId: 3,\r\n\t\tcarBrand: CarBrand.Ford,\r\n\t\tmodel: CarModel.Focus,\r\n\t\tyearOfIssue: 2005,\r\n\t\tbodyType: BodyType.Sedan,\r\n\t\tmodification: 'Modification Turbo XLR',\r\n\t\tcondition: Condition.Damaged,\r\n\t\tprice: 7000,\r\n\t\tnotes: 'Top car in your life.',\r\n\t\tphoto: defaultPhoto,\r\n\t},\r\n\t{\r\n\t\tcarId: 4,\r\n\t\tcarBrand: CarBrand.Ford,\r\n\t\tmodel: CarModel.Galaxy,\r\n\t\tyearOfIssue: 2001,\r\n\t\tbodyType: BodyType.Sedan,\r\n\t\tmodification: 'Modification TXLR',\r\n\t\tcondition: Condition.ForParts,\r\n\t\tprice: 4000,\r\n\t\tnotes: 'Top',\r\n\t\tphoto: defaultPhoto,\r\n\t},\r\n];\r\n\r\nexport const users: User[] = [\r\n\t{\r\n\t\ttoken: '5wx4ite30latcrahwfi2mi01',\r\n\t\tuserId: 1,\r\n\t\tnickname: 'User',\r\n\t\tfirstName: 'Ivan',\r\n\t\tsecondName: 'Ivanov',\r\n\t\tpassword: 'Password',\r\n\t\tisAdmin: false,\r\n\t\tavatar: defaultAvatar,\r\n\t},\r\n\t{\r\n\t\ttoken: 'ahx4ite3iw5w0ltcrmi01f2a',\r\n\t\tuserId: 2,\r\n\t\tnickname: 'Mihail',\r\n\t\tfirstName: 'Mihail',\r\n\t\tsecondName: 'Ermolaev',\r\n\t\tpassword: 'Password',\r\n\t\tisAdmin: true,\r\n\t\tavatar: defaultAvatar,\r\n\t},\r\n];\r\n\r\nexport const comments: Comment[] = [\r\n\t{\r\n\t\tdateTime: '11.02.2019, 12:08:19',\r\n\t\tadId: 1,\r\n\t\tauthor: `${users[1].firstName} ${users[1].secondName}`,\r\n\t\ttext: 'What the beautiful car',\r\n\t\tavatar: defaultAvatar,\r\n\t},\r\n\t{\r\n\t\tdateTime: '11.05.2019, 16:28:53',\r\n\t\tadId: 1,\r\n\t\tauthor: `${users[0].firstName} ${users[0].secondName}`,\r\n\t\ttext: 'Yes, this is my car',\r\n\t\tavatar: defaultAvatar,\r\n\t},\r\n\t{\r\n\t\tdateTime: '11.06.2019, 02:01:49',\r\n\t\tadId: 1,\r\n\t\tauthor: `${users[1].firstName} ${users[1].secondName}`,\r\n\t\ttext: 'Shut up and take my money',\r\n\t\tavatar: defaultAvatar,\r\n\t},\r\n];\r\n\r\nexport const metaData: MetaData[] = [\r\n\t{\r\n\t\tavatar: defaultAvatar,\r\n\t\tstars: 242,\r\n\t\tviews: 1835,\r\n\t\tcomments: comments,\r\n\t},\r\n\t{\r\n\t\tavatar: defaultAvatar,\r\n\t\tstars: 351,\r\n\t\tviews: 5123,\r\n\t\tcomments: [],\r\n\t},\r\n\t{\r\n\t\tavatar: defaultAvatar,\r\n\t\tstars: 32,\r\n\t\tviews: 427,\r\n\t\tcomments: [],\r\n\t},\r\n\t{\r\n\t\tavatar: defaultAvatar,\r\n\t\tstars: 83,\r\n\t\tviews: 93,\r\n\t\tcomments: [],\r\n\t},\r\n];\r\n\r\nexport const ads: Ad[] = [\r\n\t{\r\n\t\tadId: 1,\r\n\t\tuser: {\r\n\t\t\tuserId: 1,\r\n\t\t\tavatar: defaultAvatar,\r\n\t\t},\r\n\t\tcar: cars[0],\r\n\t\tmeta: metaData[0],\r\n\t},\r\n\t{\r\n\t\tadId: 2,\r\n\t\tuser: {\r\n\t\t\tuserId: 2,\r\n\t\t\tavatar: defaultAvatar,\r\n\t\t},\r\n\t\tcar: cars[1],\r\n\t\tmeta: metaData[1],\r\n\t},\r\n\t{\r\n\t\tadId: 3,\r\n\t\tuser: {\r\n\t\t\tuserId: 2,\r\n\t\t\tavatar: defaultAvatar,\r\n\t\t},\r\n\t\tcar: cars[2],\r\n\t\tmeta: metaData[2],\r\n\t},\r\n\t{\r\n\t\tadId: 4,\r\n\t\tuser: {\r\n\t\t\tuserId: 2,\r\n\t\t\tavatar: defaultAvatar,\r\n\t\t},\r\n\t\tcar: cars[3],\r\n\t\tmeta: metaData[3],\r\n\t},\r\n];\r\n\r\nexport const emptyCar: Car = {\r\n\tcarId: 0,\r\n\tcarBrand: 0,\r\n\tmodel: 0,\r\n\tyearOfIssue: 0,\r\n\tbodyType: 0,\r\n\tmodification: '',\r\n\tcondition: 0,\r\n\tprice: 0,\r\n\tnotes: '',\r\n\tphoto: '',\r\n};\r\n\r\nexport const testCar: Car = {\r\n\tcarId: 1,\r\n\tcarBrand: 2,\r\n\tmodel: 1,\r\n\tyearOfIssue: 1990,\r\n\tbodyType: 0,\r\n\tmodification: '',\r\n\tcondition: 0,\r\n\tprice: 0,\r\n\tnotes: '',\r\n\tphoto: '',\r\n};\r\n\r\nexport const emptyAd: Ad = {\r\n\tadId: 0,\r\n\tuser: {\r\n\t\tuserId: 0,\r\n\t\tavatar: defaultAvatar,\r\n\t},\r\n\tcar: emptyCar,\r\n\tmeta: {\r\n\t\tavatar: 'isLoading',\r\n\t\tstars: 0,\r\n\t\tviews: 0,\r\n\t\tcomments: [],\r\n\t},\r\n};\r\n\r\nexport const defaultListing = [emptyAd, emptyAd, emptyAd];\r\n\r\nexport const years = [\r\n\t2019,\r\n\t2018,\r\n\t2017,\r\n\t2016,\r\n\t2015,\r\n\t2014,\r\n\t2013,\r\n\t2012,\r\n\t2011,\r\n\t2010,\r\n\t2009,\r\n\t2008,\r\n\t2007,\r\n\t2006,\r\n\t2005,\r\n\t2004,\r\n\t2003,\r\n\t2002,\r\n\t2001,\r\n\t2000,\r\n\t1999,\r\n\t1998,\r\n\t1997,\r\n\t1996,\r\n\t1995,\r\n\t1994,\r\n\t1993,\r\n\t1992,\r\n\t1991,\r\n\t1990,\r\n];\r\n","export enum ListingActionTypes {\r\n\tADS_FETCHED = 'ADS_FETCHED',\r\n\tRESET = 'RESET',\r\n\tSET_TOTAL = 'SET_TOTAL',\r\n}\r\n","import { StrictImmutableList } from './../../helpers/strict-immutable';\r\nimport { fromJS, List } from 'immutable';\r\nimport { AdAction } from './actions/action-creators';\r\nimport { AdActionTypes } from './actions/action-types';\r\nimport { AdState } from './interfaces';\r\nimport { StrictImmutable } from '../../helpers/strict-immutable';\r\nimport { emptyCar } from '../../fake-server/fake-data';\r\nimport { SelectOption } from '../../data-interfaces/interfaces/select-option';\r\n\r\nconst initialState: AdState = {\r\n\tbrandOptions: List<SelectOption>() as StrictImmutableList<SelectOption>,\r\n\tmodelOptions: List<SelectOption>() as StrictImmutableList<SelectOption>,\r\n\tbrandsLoading: false,\r\n\tmodelsLoading: false,\r\n\tmodelDisabled: false,\r\n\tinitialValues: fromJS(emptyCar),\r\n};\r\n\r\nexport const adReducer = (\r\n\tstate: StrictImmutable<AdState> = fromJS(initialState),\r\n\taction: AdAction,\r\n): StrictImmutable<AdState> => {\r\n\tswitch (action.type) {\r\n\t\tcase AdActionTypes.GET_BRANDS_REQUEST:\r\n\t\t\treturn state.set('brandsLoading', true).set('modelDisabled', true);\r\n\r\n\t\tcase AdActionTypes.BRANDS_FETCHED:\r\n\t\t\treturn state.set('brandsLoading', false).set('brandOptions', fromJS(action.payload.options));\r\n\r\n\t\tcase AdActionTypes.GET_MODELS_REQUEST:\r\n\t\t\treturn state.set('modelsLoading', true).set('modelDisabled', true);\r\n\r\n\t\tcase AdActionTypes.MODELS_FETCHED:\r\n\t\t\treturn state\r\n\t\t\t\t.set('modelsLoading', false)\r\n\t\t\t\t.set('modelDisabled', false)\r\n\t\t\t\t.set('modelOptions', fromJS(action.payload.options));\r\n\r\n\t\tcase AdActionTypes.CAR_LOADED:\r\n\t\t\treturn state.set('initialValues', fromJS(action.payload.values));\r\n\r\n\t\tcase AdActionTypes.RESET_INITIAL_VALUES:\r\n\t\t\treturn state.set('initialValues', fromJS(emptyCar));\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { fromJS } from 'immutable';\r\n\r\nimport { ListingState } from './interfaces';\r\nimport { ListingAction } from './actions/action-creators';\r\nimport { ListingActionTypes } from './actions/action-types';\r\nimport { defaultListing } from '../../fake-server/fake-data';\r\nimport { StrictImmutable } from '../../helpers/strict-immutable';\r\n\r\nconst initialState: ListingState = {\r\n\titems: fromJS(defaultListing),\r\n\tisLoaded: false,\r\n\ttotal: 1,\r\n};\r\n\r\nexport const listingReducer = (\r\n\tstate: StrictImmutable<ListingState> = fromJS(initialState),\r\n\taction: ListingAction,\r\n): StrictImmutable<ListingState> => {\r\n\tswitch (action.type) {\r\n\t\tcase ListingActionTypes.ADS_FETCHED:\r\n\t\t\treturn state.set('items', fromJS(action.payload.items)).set('isLoaded', true);\r\n\r\n\t\tcase ListingActionTypes.RESET:\r\n\t\t\treturn state.set('items', fromJS(defaultListing));\r\n\r\n\t\tcase ListingActionTypes.SET_TOTAL:\r\n\t\t\treturn state.set('total', action.payload.total);\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export enum ViewActionTypes {\r\n\tAD_FETCHED = 'AD_FETCHED',\r\n\tSET_IS_OWNER = 'SET_IS_OWNER',\r\n\tSET_REMOVING = 'SET_REMOVING',\r\n\tSET_COMMENTING = 'SET_COMMENTING',\r\n\tPUSH_COMMENT = 'PUSH_COMMENT',\r\n}\r\n","import { fromJS } from 'immutable';\r\n\r\nimport { ViewState } from './interfaces';\r\nimport { ViewAction } from './actions/action-creators';\r\nimport { ViewActionTypes } from './actions/action-types';\r\nimport { emptyAd } from '../../fake-server/fake-data';\r\nimport { StrictImmutable } from '../../helpers/strict-immutable';\r\n\r\nconst initialState: ViewState = {\r\n\tdata: fromJS(emptyAd),\r\n\tisOwner: false,\r\n\tremoving: false,\r\n\tcommenting: false,\r\n};\r\n\r\nexport const viewReducer = (\r\n\tstate: StrictImmutable<ViewState> = fromJS(initialState),\r\n\taction: ViewAction,\r\n): StrictImmutable<ViewState> => {\r\n\tswitch (action.type) {\r\n\t\tcase ViewActionTypes.AD_FETCHED:\r\n\t\t\treturn state.set('data', fromJS(action.payload.data));\r\n\r\n\t\tcase ViewActionTypes.SET_IS_OWNER:\r\n\t\t\treturn state.set('isOwner', action.payload.isOwner);\r\n\r\n\t\tcase ViewActionTypes.SET_REMOVING:\r\n\t\t\treturn state.set('removing', action.payload.removing);\r\n\r\n\t\tcase ViewActionTypes.SET_COMMENTING:\r\n\t\t\treturn state.set('commenting', action.payload.commenting);\r\n\r\n\t\tcase ViewActionTypes.PUSH_COMMENT:\r\n\t\t\tconst comments = state\r\n\t\t\t\t.getIn(['data', 'meta'])\r\n\t\t\t\t.get('comments')\r\n\t\t\t\t.push(fromJS(action.payload.comment));\r\n\t\t\treturn state.setIn(['data', 'meta', 'comments'], comments);\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export enum PageActionTypes {\r\n\tPAGE_LOADING = 'PAGE_LOADING',\r\n\tPAGE_LOADED = 'PAGE_LOADED',\r\n\tCONTENT_LOADING = 'CONTENT_LOADING',\r\n\tCONTENT_LOADED = 'CONTENT_LOADED',\r\n}\r\n","import { fromJS } from 'immutable';\r\n\r\nimport { StrictImmutable } from './../../helpers/strict-immutable';\r\nimport { PageAction } from './action-creators';\r\nimport { PageActionTypes } from './action-types';\r\n\r\nexport interface PageState {\r\n\tpageIsLoading: boolean;\r\n\tcontentIsLoading: boolean;\r\n}\r\n\r\nconst initialState: PageState = {\r\n\tpageIsLoading: true,\r\n\tcontentIsLoading: false,\r\n};\r\n\r\nexport const pageReducer = (\r\n\tstate: StrictImmutable<PageState> = fromJS(initialState),\r\n\taction: PageAction,\r\n): StrictImmutable<PageState> => {\r\n\tswitch (action.type) {\r\n\t\tcase PageActionTypes.PAGE_LOADING:\r\n\t\t\treturn state.set('pageIsLoading', true);\r\n\r\n\t\tcase PageActionTypes.PAGE_LOADED:\r\n\t\t\treturn state.set('pageIsLoading', false);\r\n\r\n\t\tcase PageActionTypes.CONTENT_LOADING:\r\n\t\t\treturn state.set('contentIsLoading', true);\r\n\r\n\t\tcase PageActionTypes.CONTENT_LOADED:\r\n\t\t\treturn state.set('contentIsLoading', false);\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from 'redux-immutable';\r\nimport { reducer as formReducer } from 'redux-form/immutable';\r\nimport { FormStateMap } from 'redux-form';\r\n\r\nimport { ViewState } from './../pages/ad-view/interfaces';\r\nimport { UserAuthState, userAuthReducer } from '../auth/reducer';\r\nimport { adReducer } from '../pages/ad-edit/reducer';\r\nimport { AdState } from '../pages/ad-edit/interfaces';\r\nimport { listingReducer } from '../pages/listing/reducer';\r\nimport { ListingState } from '../pages/listing/interfaces';\r\nimport { viewReducer } from './../pages/ad-view/reducer';\r\nimport { PageState, pageReducer } from '../pages/page/reducer';\r\nimport { StrictImmutable } from '../helpers/strict-immutable';\r\n\r\nexport interface StoreState {\r\n\tform: FormStateMap;\r\n\tuserAuth: StrictImmutable<UserAuthState>;\r\n\tad: StrictImmutable<AdState>;\r\n\tlisting: StrictImmutable<ListingState>;\r\n\tview: StrictImmutable<ViewState>;\r\n\tpage: StrictImmutable<PageState>;\r\n}\r\n\r\nexport type ImmutableStore = StrictImmutable<StoreState>;\r\n\r\nconst store = {\r\n\tuserAuth: userAuthReducer,\r\n\tform: formReducer,\r\n\tad: adReducer,\r\n\tlisting: listingReducer,\r\n\tview: viewReducer,\r\n\tpage: pageReducer,\r\n};\r\n\r\nexport default combineReducers<StoreState>(store);\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport reducer from './root-reducer';\r\n\r\nconst enhancer = composeWithDevTools(applyMiddleware(thunk));\r\nconst store = createStore(reducer, enhancer);\r\n\r\nexport default store;\r\n","import React, { ReactNode } from 'react';\r\n\r\ninterface ErrorBoundaryState {\r\n\thasError: boolean;\r\n}\r\n\r\nexport class ErrorBoundary extends React.Component<{}, ErrorBoundaryState> {\r\n\tstate: ErrorBoundaryState = {\r\n\t\thasError: false,\r\n\t};\r\n\r\n\tcomponentDidCatch(error: Error | null, info: any) {\r\n\t\tthis.setState({\r\n\t\t\thasError: true,\r\n\t\t});\r\n\r\n\t\tconsole.error(error, info);\r\n\t}\r\n\r\n\trender = (): ReactNode =>\r\n\t\tthis.state.hasError ? (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Something was wrong...</h2>\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\tthis.props.children\r\n\t\t);\r\n}\r\n","export const routePaths = {\r\n\thome: '/',\r\n\tlogin: '/login',\r\n\tregister: '/register',\r\n\tadCreate: '/Ad/Create',\r\n\tnotFound: '/NotFound',\r\n\tadEdit: (id: string = ':id') => `/Ad/Edit/${id}`,\r\n\tadView: (id: string = ':id') => `/Ad/View/${id}`,\r\n};\r\n","import { Link as RouterLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst Link = styled(RouterLink)`\r\n\ttext-decoration: none;\r\n\tcolor: #fff;\r\n\t&:focus,\r\n\t&:hover,\r\n\t&:visited,\r\n\t&:link,\r\n\t&:active {\r\n\t\tcolor: #fff;\r\n\t\ttext-decoration: none;\r\n\t}\r\n`;\r\n\r\nexport const Styled = {\r\n\tLink,\r\n};\r\n","import {\r\n\tgetLocalAds,\r\n\tgenerateAdId,\r\n\tinsertAds,\r\n\tinsertAd,\r\n\tupdateAdCar,\r\n\tmapCommentModelToComment,\r\n\tpushComment,\r\n} from './ad-helpers';\r\nimport { getLocalCars, insertCars, insertCar, updateCar, generateCarId } from './car-helpers';\r\nimport { getUsers, mapUserToUserData, getUser, getUserId, getUserById } from './user-helpers';\r\n\r\nexport enum LocalStorageKeys {\r\n\tads = 'ads',\r\n\tcars = 'cars',\r\n\tusers = 'users',\r\n}\r\n\r\nexport const sleep = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nexport const ads = {\r\n\tgetLocalAds,\r\n\tinsertAds,\r\n\tinsertAd,\r\n\tupdateAdCar,\r\n\tgenerateAdId,\r\n\tpushComment,\r\n\tmapCommentModelToComment,\r\n};\r\n\r\nexport const cars = {\r\n\tgetLocalCars,\r\n\tinsertCars,\r\n\tinsertCar,\r\n\tupdateCar,\r\n\tgenerateCarId,\r\n};\r\n\r\nexport const users = {\r\n\tmapUserToUserData,\r\n\tgetUsers,\r\n\tgetUser,\r\n\tgetUserId,\r\n\tgetUserById,\r\n};\r\n","import styled from 'styled-components';\r\nimport { Layout as AntdLayout } from 'antd';\r\nimport { Styled as CommonStyled } from '../../styles/styled';\r\n\r\nconst { Header: AntdHeader, Content: AntdContent, Footer: AntdFooter } = AntdLayout;\r\n\r\ninterface ContentProps {\r\n\tisLoading: boolean;\r\n}\r\n\r\nconst RightMenu = styled.div`\r\n\t&& {\r\n\t\tposition: absolute;\r\n\t\tright: 50px;\r\n\t}\r\n`;\r\n\r\nconst RightMenuLink = styled(CommonStyled.Link)`\r\n\tmargin-left: 30px;\r\n`;\r\n\r\nconst Header = styled(AntdHeader)`\r\n\t&& {\r\n\t\tbackground-color: #1e88e5;\r\n\t\tdisplay: flex;\r\n\t}\r\n`;\r\n\r\nconst Body = styled(AntdContent)`\r\n\t&& {\r\n\t\tpadding: 0 200px;\r\n\t}\r\n`;\r\n\r\nconst ContentWrapper = styled.div`\r\n\tbackground: #fff;\r\n\tpadding: 24px;\r\n\tmin-height: 400px;\r\n\tdisplay: flex;\r\n`;\r\n\r\nconst Content = styled.div<ContentProps>`\r\n\tflex: 1;\r\n\tdisplay: ${(props) => (props.isLoading ? 'none' : 'block')};\r\n`;\r\n\r\nconst Footer = styled(AntdFooter)`\r\n\t&& {\r\n\t\ttext-align: center;\r\n\t}\r\n`;\r\n\r\nconst Layout = styled(AntdLayout)`\r\n\t&& {\r\n\t\tmin-height: 100vh;\r\n\t}\r\n`;\r\n\r\nconst PageHeader = styled.h2`\r\n\tmargin: 16px 0;\r\n`;\r\n\r\nexport const Styled = {\r\n\tRightMenu,\r\n\tHeader,\r\n\tPageHeader,\r\n\tBody,\r\n\tContent,\r\n\tFooter,\r\n\tRightMenuLink,\r\n\tLayout,\r\n\tContentWrapper,\r\n};\r\n","import { Ad } from '../../data-interfaces/interfaces/ad';\r\nimport { Car } from '../../data-interfaces/interfaces/car';\r\nimport { Comment } from '../../data-interfaces/interfaces/comment';\r\nimport { LocalStorageKeys, users } from '.';\r\nimport { CommentModel } from '../interfaces';\r\nimport { defaultAvatar } from '../fake-data';\r\n\r\nexport const getLocalAds = (): Ad[] => {\r\n\tconst jsonAds = localStorage.getItem(LocalStorageKeys.ads);\r\n\treturn jsonAds ? JSON.parse(jsonAds) : [];\r\n};\r\n\r\nexport const insertAds = (ads: Ad[]) => {\r\n\tlocalStorage.setItem(LocalStorageKeys.ads, JSON.stringify(ads));\r\n};\r\n\r\nexport const insertAd = (ad: Ad) => {\r\n\tconst ads = getLocalAds();\r\n\tads.push(ad);\r\n\tinsertAds(ads);\r\n};\r\n\r\nexport const updateAdCar = (car: Car) => {\r\n\tconst ads = getLocalAds();\r\n\tconst newAds = ads.map((ad) => (ad.car.carId === car.carId ? { ...ad, car } : ad));\r\n\tinsertAds(newAds);\r\n};\r\n\r\nexport const generateAdId = (): number => {\r\n\tconst ads = getLocalAds();\r\n\treturn Math.max.apply(Math, ads.map((c) => c.adId)) + 1;\r\n};\r\n\r\nexport const pushComment = (comment: Comment): void => {\r\n\tconst ads = getLocalAds();\r\n\tconst newAds = ads.map((ad) =>\r\n\t\tad.adId === comment.adId\r\n\t\t\t? { ...ad, meta: { ...ad.meta, comments: [...ad.meta.comments, comment] } }\r\n\t\t\t: ad,\r\n\t);\r\n\tinsertAds(newAds);\r\n};\r\n\r\nexport const mapCommentModelToComment = (commentModel: CommentModel): Comment => {\r\n\tconst user = users.getUserById(commentModel.userId)!;\r\n\treturn {\r\n\t\tadId: commentModel.adId,\r\n\t\tauthor: `${user.firstName} ${user.secondName}`,\r\n\t\tavatar: defaultAvatar,\r\n\t\ttext: commentModel.text,\r\n\t\tdateTime: commentModel.dateTime,\r\n\t};\r\n};\r\n","import { Car } from '../../data-interfaces/interfaces/car';\r\nimport { LocalStorageKeys } from '.';\r\n\r\nexport const getLocalCars = (): Car[] => {\r\n\tconst jsonCars = localStorage.getItem(LocalStorageKeys.cars);\r\n\treturn jsonCars ? JSON.parse(jsonCars) : [];\r\n};\r\n\r\nexport const insertCars = (cars: Car[]) => {\r\n\tlocalStorage.setItem(LocalStorageKeys.cars, JSON.stringify(cars));\r\n};\r\n\r\nexport const updateCar = (car: Car) => {\r\n\tconst cars = getLocalCars();\r\n\tconst newCars = cars.map((c) => (c.carId === car.carId ? car : c));\r\n\tinsertCars(newCars);\r\n};\r\n\r\nexport const insertCar = (car: Car) => {\r\n\tconst cars = getLocalCars();\r\n\tcars.push(car);\r\n\tinsertCars(cars);\r\n};\r\n\r\nexport const generateCarId = (): number => {\r\n\tconst cars = getLocalCars();\r\n\treturn Math.max.apply(Math, cars.map((c) => c.carId)) + 1;\r\n};\r\n","import Cookies from 'js-cookie';\r\nimport { LocalStorageKeys } from '.';\r\nimport { User } from '../../data-interfaces/interfaces/user';\r\nimport { UserData } from '../interfaces';\r\nimport { COOKIE_PATH } from '../../auth/actions';\r\n\r\nexport const mapUserToUserData = (user: User): UserData => {\r\n\tconst { password, nickname, ...loginInModelProps } = user;\r\n\treturn loginInModelProps;\r\n};\r\n\r\nexport const getUsers = (): User[] => {\r\n\tconst users = localStorage.getItem(LocalStorageKeys.users);\r\n\treturn users ? JSON.parse(users) : [];\r\n};\r\n\r\nexport const getUser = (): User | undefined => {\r\n\tconst token = Cookies.get(COOKIE_PATH);\r\n\tconst users = localStorage.getItem(LocalStorageKeys.users);\r\n\tconst parsedUsers: User[] = users && token ? JSON.parse(users) : [];\r\n\treturn parsedUsers.find((user) => user.token === token);\r\n};\r\n\r\nexport const getUserId = (): number | undefined => {\r\n\tconst user = getUser();\r\n\treturn user && user.userId;\r\n};\r\n\r\nexport const getUserById = (userId: number): User | undefined => {\r\n\tconst users = getUsers();\r\n\treturn users.find(user => user.userId === userId);\r\n};\r\n","import { SelectOption } from '../data-interfaces/interfaces/select-option';\r\n\r\ntype Enum<E> = Record<keyof E, number> & { [k: number]: string };\r\n\r\nexport const mapEnumToSelectOptions = <E extends Enum<E>>(dataEnum: E): SelectOption[] =>\r\n\tObject.keys(dataEnum)\r\n\t\t.filter((x) => !isNaN(Number(x)))\r\n\t\t.map((key) => ({ name: dataEnum[Number(key)], value: Number(key) }));\r\n\r\nexport const mapArrayToSelectOptions = (array: number[]): SelectOption[] =>\r\n\tarray.map((item) => ({ name: item.toString(), value: item }));\r\n","import { SelectOption } from './../data-interfaces/interfaces/select-option';\r\nimport { carToModel, defaultPhoto, defaultMetadata, defaultAvatar } from './fake-data';\r\nimport {\r\n\tUserSessionResponse,\r\n\tApiResponse,\r\n\tLoginValidateResponse,\r\n\tCommentModel,\r\n} from './interfaces';\r\nimport { sleep, cars, ads, users } from './helpers';\r\nimport { mapEnumToSelectOptions } from '../helpers/mappers';\r\nimport { CarBrand, CarModel } from '../data-interfaces/enums';\r\nimport { LoginFormValues } from '../pages/login';\r\nimport { Car } from '../data-interfaces/interfaces/car';\r\nimport { Ad } from '../data-interfaces/interfaces/ad';\r\nimport { Comment } from '../data-interfaces/interfaces/comment';\r\n\r\nexport const loginValidate = async (values: LoginFormValues): Promise<LoginValidateResponse> => {\r\n\tawait sleep(1000);\r\n\tconst user = users\r\n\t\t.getUsers()\r\n\t\t.find((u) => u.nickname === values.userName && u.password === values.password);\r\n\tconst result = user\r\n\t\t? { token: user.token }\r\n\t\t: { errors: { error: 'Login failed; Invalid User name or Password' } };\r\n\treturn result as LoginValidateResponse;\r\n};\r\n\r\nexport const fetchUserSession = async (token: string): Promise<UserSessionResponse> => {\r\n\tawait sleep(1000);\r\n\tconst user = users.getUsers().find((u) => u.token === token);\r\n\tconst result = user\r\n\t\t? users.mapUserToUserData(user)\r\n\t\t: { errors: { error: 'Authorization Failed' } };\r\n\treturn result as UserSessionResponse;\r\n};\r\n\r\nexport const getBrands = async (): Promise<SelectOption[]> => {\r\n\tawait sleep(1000);\r\n\treturn mapEnumToSelectOptions(CarBrand);\r\n};\r\n\r\nexport const getModels = async (brand: CarBrand): Promise<SelectOption[]> => {\r\n\tawait sleep(1000);\r\n\tconst models = carToModel.get(brand) || [];\r\n\treturn models && models.map((m) => ({ name: CarModel[m], value: m }));\r\n};\r\n\r\nexport const getCar = async (carId: number): Promise<Car | false | undefined> => {\r\n\tawait sleep(1);\r\n\tconst ad = ads.getLocalAds().find((ad) => ad.car.carId === carId);\r\n\tconst user = users.getUser();\r\n\tconst userId = ad && user && (ad.user.userId === user.userId || user.isAdmin);\r\n\treturn userId && cars.getLocalCars().find((car) => car.carId === carId);\r\n};\r\n\r\nexport const getCars = async (): Promise<Car[]> => {\r\n\tawait sleep(1000);\r\n\treturn cars.getLocalCars();\r\n};\r\n\r\nexport const saveCar = async (car: Car): Promise<ApiResponse<{}>> => {\r\n\tawait sleep(1000);\r\n\tif (car.carId) {\r\n\t\tcars.updateCar(car);\r\n\t\tads.updateAdCar(car);\r\n\t} else {\r\n\t\tcar = { carId: cars.generateCarId(), ...car, photo: defaultPhoto };\r\n\t\tconst ad: Ad = {\r\n\t\t\tuser: { userId: users.getUserId()!, avatar: defaultAvatar },\r\n\t\t\tadId: ads.generateAdId(),\r\n\t\t\tcar,\r\n\t\t\tmeta: defaultMetadata,\r\n\t\t};\r\n\t\tcars.insertCar(car);\r\n\t\tads.insertAd(ad);\r\n\t}\r\n\treturn {};\r\n};\r\n\r\nexport const removeCar = async (carId: number): Promise<ApiResponse<{}>> => {\r\n\tawait sleep(1000);\r\n\tconst newAds = ads.getLocalAds().filter((ad) => ad.car.carId !== carId);\r\n\tconst newCars = cars.getLocalCars().filter((car) => car.carId !== carId);\r\n\tads.insertAds(newAds);\r\n\tcars.insertCars(newCars);\r\n\treturn {};\r\n};\r\n\r\nexport const getAds = async (page: number, pageSize: number | undefined): Promise<Ad[]> => {\r\n\tawait sleep(1000);\r\n\treturn pageSize ? ads.getLocalAds().splice((page - 1) * pageSize, page * pageSize) : [];\r\n};\r\n\r\nexport const getAdsCount = async (): Promise<number> => {\r\n\tawait sleep(10);\r\n\treturn ads.getLocalAds().length;\r\n};\r\n\r\nexport const getAd = async (adId: number): Promise<Ad | undefined> => {\r\n\tawait sleep(1000);\r\n\treturn ads.getLocalAds().find((ad) => ad.adId === adId);\r\n};\r\n\r\nexport const isOwner = async (adId: number): Promise<boolean> => {\r\n\tawait sleep(10);\r\n\tconst user = users.getUser();\r\n\treturn !!ads\r\n\t\t.getLocalAds()\r\n\t\t.find((ad) => ad.adId === adId && !!user && (user.isAdmin || ad.user.userId === user.userId));\r\n};\r\n\r\nexport const commentOn = async (commentModel: CommentModel): Promise<ApiResponse<Comment>> => {\r\n\tawait sleep(1000);\r\n\tconst comment = ads.mapCommentModelToComment(commentModel);\r\n\tads.pushComment(comment);\r\n\treturn comment;\r\n};\r\n","import { ActionCreator, Action } from 'redux';\r\n\r\nimport { PageActionTypes } from './action-types';\r\n\r\nconst pageLoading: ActionCreator<PageLoadingAction> = () => ({\r\n\ttype: PageActionTypes.PAGE_LOADING,\r\n});\r\n\r\nconst pageLoaded: ActionCreator<PageLoadedAction> = () => ({\r\n\ttype: PageActionTypes.PAGE_LOADED,\r\n});\r\n\r\nconst contentLoading: ActionCreator<ContentLoadingAction> = () => ({\r\n\ttype: PageActionTypes.CONTENT_LOADING,\r\n});\r\n\r\nconst contentLoaded: ActionCreator<ContentLoadedAction> = () => ({\r\n\ttype: PageActionTypes.CONTENT_LOADED,\r\n});\r\n\r\ninterface ContentLoadingAction extends Action<PageActionTypes.CONTENT_LOADING> {}\r\n\r\ninterface PageLoadingAction extends Action<PageActionTypes.PAGE_LOADING> {}\r\n\r\ninterface ContentLoadedAction extends Action<PageActionTypes.CONTENT_LOADED> {}\r\n\r\ninterface PageLoadedAction extends Action<PageActionTypes.PAGE_LOADED> {}\r\n\r\nexport type PageAction =\r\n\t| PageLoadingAction\r\n\t| ContentLoadingAction\r\n\t| ContentLoadedAction\r\n\t| PageLoadedAction;\r\n\r\nexport { pageLoading, pageLoaded, contentLoading, contentLoaded };\r\n","import Cookies from 'js-cookie';\r\nimport { message } from 'antd';\r\n\r\nimport { fetchUserSession } from '../fake-server/fake-server';\r\nimport { AuthAction, authenticationSuccess, logoutAction } from './action-creators';\r\nimport { pageLoaded } from '../pages/page/action-creators';\r\nimport { BaseDispatch } from '../helpers/base-dispatch';\r\n\r\nexport const COOKIE_PATH = 'oauthToken';\r\n\r\nexport type AuthDispatch = BaseDispatch<AuthAction>;\r\n\r\nexport const initAuth = () => async (dispatch: AuthDispatch) => {\r\n\tconst oauthToken = Cookies.get(COOKIE_PATH);\r\n\tif (oauthToken) {\r\n\t\tawait dispatch(fetchUserData(oauthToken));\r\n\t} else {\r\n\t\tdispatch(pageLoaded());\r\n\t}\r\n};\r\n\r\nexport const fetchUserData = (token: string) => async (dispatch: AuthDispatch) => {\r\n\tconst result = await fetchUserSession(token);\r\n\tif (result.errors) {\r\n\t\tmessage.error(result.errors.error);\r\n\t} else {\r\n\t\tdispatch(authenticationSuccess(result));\r\n\t}\r\n\tdispatch(pageLoaded());\r\n};\r\n\r\nexport const logout = (callback: () => void) => (dispatch: AuthDispatch) => {\r\n\tCookies.remove(COOKIE_PATH);\r\n\tdispatch(logoutAction());\r\n\tcallback();\r\n};\r\n","import { ActionCreator, Action } from 'redux';\r\n\r\nimport { AuthActionTypes } from './action-types';\r\nimport { UserData } from '../fake-server/interfaces';\r\n\r\nconst authenticationSuccess: ActionCreator<AuthenticationSuccessAction> = (userData: UserData) => ({\r\n\ttype: AuthActionTypes.AUTHENTICATION_SUCCESS,\r\n\tpayload: userData,\r\n});\r\n\r\nconst logoutAction: ActionCreator<LogoutAction> = () => ({\r\n\ttype: AuthActionTypes.LOGOUT,\r\n});\r\n\r\ninterface AuthenticationSuccessAction extends Action<AuthActionTypes.AUTHENTICATION_SUCCESS> {\r\n\tpayload: UserData;\r\n}\r\n\r\ninterface LogoutAction extends Action<AuthActionTypes.LOGOUT> {}\r\n\r\nexport type AuthAction = AuthenticationSuccessAction | LogoutAction;\r\n\r\nexport { authenticationSuccess, logoutAction };\r\n","import { connect } from 'react-redux';\r\n\r\nimport { Header as HeaderComponent } from './component';\r\nimport { ImmutableStore } from '../../../store/root-reducer';\r\nimport { logout, AuthDispatch } from '../../../auth/actions';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport { HeaderStateProps, HeaderDispatchProps } from './interfaces';\r\nimport { routePaths } from '../../../helpers/route-paths';\r\n\r\nconst mapStateToProps = (store: ImmutableStore): HeaderStateProps => ({\r\n\tisAuthenticated: !!store.getIn(['userAuth', 'userId']),\r\n\tisAdmin: store.getIn(['userAuth', 'isAdmin']),\r\n\tuserName: `${store.getIn(['userAuth', 'firstName'])} ${store.getIn(['userAuth', 'secondName'])}`,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: AuthDispatch,\r\n\tprops: RouteComponentProps,\r\n): HeaderDispatchProps => {\r\n\tconst logoutRedirect = () => props.history.push(routePaths.login);\r\n\treturn {\r\n\t\tlogout: () => dispatch(logout(logoutRedirect)),\r\n\t};\r\n};\r\n\r\nexport const ConnectedHeader = connect<\r\n\tHeaderStateProps,\r\n\tHeaderDispatchProps,\r\n\tRouteComponentProps,\r\n\tImmutableStore\r\n>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(HeaderComponent);\r\n\r\nexport const Header = withRouter(ConnectedHeader);\r\n","import React from 'react';\r\nimport { Icon } from 'antd';\r\n\r\nimport { routePaths } from '../../../helpers/route-paths';\r\nimport { Styled as CommonStyled } from '../../../styles/styled';\r\nimport { Styled } from '../styled';\r\nimport { HeaderProps } from './interfaces';\r\n\r\nexport const Header: React.FC<HeaderProps> = ({ isAuthenticated, userName, logout, isAdmin }) => (\r\n\t<Styled.Header>\r\n\t\t<h2>\r\n\t\t\t<CommonStyled.Link to={routePaths.home}>Cars Ground</CommonStyled.Link>\r\n\t\t</h2>\r\n\t\t<Styled.RightMenu>\r\n\t\t\t<h3>\r\n\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Styled.RightMenuLink to={routePaths.adCreate}>\r\n\t\t\t\t\t\t\tPost Ad\r\n\t\t\t\t\t\t</Styled.RightMenuLink>\r\n\t\t\t\t\t\t<Styled.RightMenuLink to={'#'}>\r\n\t\t\t\t\t\t\t<Icon type='user' /> {userName}\r\n\t\t\t\t\t\t\t{isAdmin && ' (Admin)'}\r\n\t\t\t\t\t\t</Styled.RightMenuLink>\r\n\t\t\t\t\t\t<Styled.RightMenuLink to={'#'} onClick={logout}>\r\n\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t</Styled.RightMenuLink>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Styled.RightMenuLink to={routePaths.login}>Login</Styled.RightMenuLink>\r\n\t\t\t\t)}\r\n\t\t\t</h3>\r\n\t\t</Styled.RightMenu>\r\n\t</Styled.Header>\r\n);\r\n","import styled from 'styled-components';\r\nimport { Spin } from 'antd';\r\n\r\nconst Loader = styled(Spin)`\r\n\tflex: 1;\r\n\tmargin: auto;\r\n`;\r\n\r\nexport const Styled = {\r\n\tLoader,\r\n};\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\n\r\nimport { Styled } from './styled';\r\n\r\nexport interface LoaderProps {\r\n\tisLoading: boolean;\r\n}\r\n\r\nexport const WrapLoader: React.FC<LoaderProps> = ({ isLoading, children }) => (\r\n\t<Spin spinning={isLoading} tip='Loading...'>\r\n\t\t{children}\r\n\t</Spin>\r\n);\r\n\r\nexport const Loader: React.FC<LoaderProps> = ({ isLoading }) => (\r\n\t<Styled.Loader tip='Loading...' size='large' spinning={isLoading} />\r\n);\r\n","import { connect } from 'react-redux';\r\n\r\nimport { ImmutableStore } from '../../store/root-reducer';\r\nimport { LoaderProps } from '../loader';\r\nimport { Layout as LayoutComponent } from './component';\r\n\r\nexport interface HeaderProps extends LoaderProps {}\r\n\r\nconst mapStateToProps = (store: ImmutableStore): HeaderProps => ({\r\n\tisLoading: store.getIn(['page', 'contentIsLoading'])!,\r\n});\r\n\r\nexport const Layout = connect<LoaderProps, null, null, ImmutableStore>(mapStateToProps)(\r\n\tLayoutComponent,\r\n);\r\n","import React from 'react';\r\n\r\nimport { Header } from './header';\r\nimport { Styled } from './styled';\r\nimport { Loader } from '../loader';\r\nimport { HeaderProps } from '.';\r\n\r\nexport const Layout: React.FC<HeaderProps> = ({ isLoading, children }) => (\r\n\t<Styled.Layout>\r\n\t\t<Header />\r\n\t\t<Styled.Body>\r\n\t\t\t<Styled.PageHeader>Page Name</Styled.PageHeader>\r\n\t\t\t<Styled.ContentWrapper>\r\n\t\t\t\t<Loader isLoading={isLoading} />\r\n\t\t\t\t<Styled.Content isLoading={isLoading}>{children}</Styled.Content>\r\n\t\t\t</Styled.ContentWrapper>\r\n\t\t</Styled.Body>\r\n\t\t<Styled.Footer>© 2019 Mihail Ermolaev</Styled.Footer>\r\n\t</Styled.Layout>\r\n);\r\n","import React from 'react';\r\nimport { Form } from 'antd';\r\nimport { WrappedFieldProps, EventOrValueHandler } from 'redux-form';\r\nimport { InputProps } from 'antd/lib/input';\r\nimport { FormItemProps } from 'antd/lib/form';\r\n\r\ninterface CustomInputRenderProps {\r\n\tonChangeCallback?: (event: any) => void;\r\n}\r\ntype Props = InputProps & WrappedFieldProps & FormItemProps & CustomInputRenderProps;\r\n\r\nconst fieldRenderOnChange = (\r\n\treduxOnChange: EventOrValueHandler<Event>,\r\n\tonChangeCallback?: (event: any) => void,\r\n) => (event: any) => {\r\n\treduxOnChange(event);\r\n\tonChangeCallback && onChangeCallback(event);\r\n};\r\n\r\nexport const fieldRender = <P extends {}>(Component: React.ComponentType<Props & P>) => ({\r\n\tinput,\r\n\tmeta,\r\n\tchildren,\r\n\thasFeedback,\r\n\tlabel,\r\n\tlabelCol,\r\n\twrapperCol,\r\n\trequired,\r\n\tonChangeCallback,\r\n\t...rest\r\n}: Props & P) => {\r\n\tconst hasError = meta.touched && meta.invalid;\r\n\r\n\treturn (\r\n\t\t<Form.Item\r\n\t\t\tlabel={label}\r\n\t\t\tlabelCol={labelCol}\r\n\t\t\twrapperCol={wrapperCol}\r\n\t\t\tvalidateStatus={hasError ? 'error' : 'success'}\r\n\t\t\thasFeedback={hasFeedback && hasError}\r\n\t\t\thelp={hasError && meta.error}\r\n\t\t\trequired={required}\r\n\t\t>\r\n\t\t\t<Component\r\n\t\t\t\t{...input}\r\n\t\t\t\t{...rest as Props & P}\r\n\t\t\t\tonChange={fieldRenderOnChange(input.onChange, onChangeCallback)}\r\n\t\t\t\tchildren={children}\r\n\t\t\t/>\r\n\t\t</Form.Item>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport {\r\n\tRadio,\r\n\tDatePicker,\r\n\tInput as AInput,\r\n\tSelect as ASelect,\r\n\tCheckbox as ACheckbox,\r\n\tInputNumber as AInputNumber,\r\n} from 'antd';\r\nimport { RadioGroupProps } from 'antd/lib/radio';\r\nimport { SelectProps } from 'antd/lib/select';\r\nimport { CheckboxProps } from 'antd/lib/checkbox';\r\nimport { TextAreaProps } from 'antd/lib/input';\r\nimport { RangePickerProps } from 'antd/lib/date-picker/interface';\r\nimport { InputNumberProps } from 'antd/lib/input-number';\r\n\r\nimport { fieldRender } from './hocs/field-render';\r\n\r\nconst Input = fieldRender((props) => <AInput {...props} />);\r\nconst RadioGroup = fieldRender<RadioGroupProps>((props) => <Radio.Group {...props} />);\r\nconst Select = fieldRender<SelectProps>((props) => <ASelect {...props} />);\r\nconst Checkbox = fieldRender<CheckboxProps>((props) => <ACheckbox {...props} />);\r\nconst TextArea = fieldRender<TextAreaProps>((props) => <AInput.TextArea {...props} />);\r\nconst RangePicker = fieldRender<RangePickerProps>((props) => <DatePicker.RangePicker {...props} />);\r\nconst InputNumber = fieldRender<InputNumberProps>((props) => <AInputNumber {...props} />);\r\n\r\nexport { Input, RadioGroup, Select, Checkbox, TextArea, RangePicker, InputNumber };\r\n","import styled from 'styled-components';\r\nimport { Form as FormComponent, Icon as IconComponent, Button } from 'antd';\r\n\r\nconst Form = styled(FormComponent)`\r\n\t&& {\r\n\t\tmax-width: 340px;\r\n\t\tmargin: 100px auto;\r\n\t\tborder-radius: 2px;\r\n\t\tborder: 1px solid rgb(235, 237, 240);\r\n\t\tpadding: 20px;\r\n\r\n\t\t.ant-form-item:nth-child(3) {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Icon = styled(IconComponent)`\r\n\tcolor: rgba(0, 0, 0, 0.25);\r\n`;\r\n\r\nconst LoginFormButton = styled<any>(Button).attrs({ type: 'primary', htmlType: 'submit' })`\r\n\twidth: 100%;\r\n`;\r\n\r\nexport const Styled = {\r\n\tForm,\r\n\tIcon,\r\n\tLoginFormButton,\r\n};\r\n","export const requiredNamed = (name: string) => (value: string) =>\r\n\tvalue && value.trim() ? undefined : `${name} is required.`;\r\n\r\nexport const required = (value: number) =>\r\n\tvalue || value === 0 ? undefined : `Field is required.`;\r\n\r\nexport const onlyNumber = (value: number) => (isNaN(value) ? `Field for numbers only.` : undefined);\r\n\r\nexport const maxLengthNamed = (name: string, max: number) => (value: string) =>\r\n\tvalue && value.length > max ? `${name} cannot be longer than ${max} characters.` : undefined;\r\n\r\nexport const minLengthNamed = (name: string, min: number) => (value: string) =>\r\n\tvalue && value.length < min ? `${name} cannot be shorter than ${min} characters.` : undefined;\r\n","import React from 'react';\r\nimport { requiredNamed } from '../../helpers/validation-rules';\r\nimport { Styled } from './styled';\r\n\r\nexport const fields = {\r\n\tuserName: 'userName',\r\n\tuserNameLabel: 'User name',\r\n\tpassword: 'password',\r\n\tpasswordLabel: 'Password',\r\n\trememberMe: 'rememberMe',\r\n\trememberMeLabel: 'Remember me',\r\n};\r\n\r\nexport const userNameValidate = [requiredNamed(fields.userNameLabel)];\r\nexport const passwordValidate = [requiredNamed(fields.passwordLabel)];\r\n\r\nexport const icon = (iconType: 'user' | 'lock') => <Styled.Icon type={iconType} />;\r\n\r\nexport const checkboxStyles = { marginBottom: 0 };\r\n","import { SubmissionError } from 'redux-form/immutable';\r\nimport { message } from 'antd';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport { COOKIE_PATH, fetchUserData, AuthDispatch } from './../../auth/actions';\r\nimport { loginValidate } from '../../fake-server/fake-server';\r\nimport { LoginFormValues } from '.';\r\n\r\nexport const login = (props: LoginFormValues, successCallback: () => void) => async (\r\n\tdispatch: AuthDispatch,\r\n) => {\r\n\tconst result = await loginValidate(props);\r\n\tif (result.errors) {\r\n\t\tmessage.error(result.errors.error);\r\n\t\tthrow new SubmissionError(result.errors);\r\n\t} else {\r\n\t\tCookies.set(COOKIE_PATH, result.token);\r\n\t\tawait dispatch(fetchUserData(result.token));\r\n\t\tsuccessCallback();\r\n\t}\r\n};\r\n","import { reduxForm } from 'redux-form/immutable';\r\nimport { InjectedFormProps } from 'redux-form';\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { LoginForm } from './form';\r\nimport { login } from './actions';\r\nimport { routePaths } from '../../helpers/route-paths';\r\nimport { StrictImmutable } from '../../helpers/strict-immutable';\r\n\r\nexport type LoginFormProps = RouteComponentProps &\r\n\tInjectedFormProps<StrictImmutable<LoginFormValues>, RouteComponentProps>;\r\n\r\nexport interface LoginFormValues {\r\n\tuserName: string;\r\n\tpassword: string;\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm<StrictImmutable<LoginFormValues>, RouteComponentProps>({\r\n\tform: 'login',\r\n\tonSubmit: async (values, dispatch, props) =>\r\n\t\tdispatch(login(values.toJS(), () => props.history.push(routePaths.home))),\r\n})(LoginForm);\r\n\r\nexport const LoginPage = withRouter(ReduxLoginForm);\r\n","import React from 'react';\r\nimport { Form } from 'antd';\r\nimport { Field } from 'redux-form/immutable';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Input, Checkbox } from '../../helpers/fields';\r\nimport { routePaths } from '../../helpers/route-paths';\r\nimport { Styled } from './styled';\r\nimport { LoginFormProps } from '.';\r\nimport { icon, fields, userNameValidate, passwordValidate, checkboxStyles } from './form-settings';\r\n\r\nexport const LoginForm: React.FC<LoginFormProps> = ({ handleSubmit, submitting }) => (\r\n\t<Styled.Form onSubmit={handleSubmit}>\r\n\t\t<Field\r\n\t\t\tcomponent={Input}\r\n\t\t\tprefix={icon('user')}\r\n\t\t\tname={fields.userName}\r\n\t\t\tplaceholder={fields.userNameLabel}\r\n\t\t\tvalidate={userNameValidate}\r\n\t\t/>\r\n\t\t<Field\r\n\t\t\tcomponent={Input}\r\n\t\t\ttype='password'\r\n\t\t\tprefix={icon('lock')}\r\n\t\t\tname={fields.password}\r\n\t\t\tvalidate={passwordValidate}\r\n\t\t\tplaceholder={fields.passwordLabel}\r\n\t\t/>\r\n\t\t<Field\r\n\t\t\tcomponent={Checkbox}\r\n\t\t\ttype='checkbox'\r\n\t\t\tname={fields.rememberMe}\r\n\t\t\tdefaultChecked={true}\r\n\t\t\tstyles={checkboxStyles}\r\n\t\t>\r\n\t\t\t{fields.rememberMeLabel}\r\n\t\t</Field>\r\n\t\t<Form.Item>\r\n\t\t\t<Styled.LoginFormButton loading={submitting}>Log in</Styled.LoginFormButton>\r\n\t\t\tOr <Link to={routePaths.register}>register now!</Link>\r\n\t\t</Form.Item>\r\n\t</Styled.Form>\r\n);\r\n","export const pageSize = 3;\r\n\r\nexport const item = {\r\n\tskeletonParagraph: { rows: 3 },\r\n\timageWidth: 272,\r\n};\r\n","import styled from 'styled-components';\r\nimport { Icon as AIcon } from 'antd';\r\n\r\nconst Icon = styled(AIcon)`\r\n\tmargin-right: 8px;\r\n`;\r\n\r\nexport const Styled = {\r\n\tIcon,\r\n};\r\n","import React from 'react';\r\n\r\nimport { Styled } from './styled';\r\n\r\ninterface IconTextProps {\r\n\ttype: string;\r\n\ttext: string;\r\n}\r\n\r\nexport const IconText: React.FC<IconTextProps> = ({ type, text }) => (\r\n\t<span>\r\n\t\t<Styled.Icon type={type} />\r\n\t\t{text}\r\n\t</span>\r\n);\r\n","import React from 'react';\r\n\r\nimport { IconText } from './icon-text';\r\n\r\nexport const icons = (stars: number, views: number, comments: number): React.ReactNode[] => [\r\n\t<IconText type='star-o' text={stars.toString()} />,\r\n\t<IconText type='eye' text={views.toString()} />,\r\n\t<IconText type='message' text={comments.toString()} />,\r\n];\r\n","import React from 'react';\r\nimport { List, Avatar, Skeleton } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { item } from './settings';\r\nimport { routePaths } from '../../helpers/route-paths';\r\nimport { Ad } from '../../data-interfaces/interfaces/ad';\r\nimport { CarBrand, CarModel, Condition } from '../../data-interfaces/enums';\r\nimport { icons } from '../../components/icons';\r\nimport { StrictImmutable } from '../../helpers/strict-immutable';\r\n\r\nexport const Item: React.FC<StrictImmutable<Ad>> = (props) => {\r\n\tconst { adId, meta, car } = props.toJS();\r\n\tconst IsLoading = !adId;\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={adId}\r\n\t\t\tactions={IsLoading ? [] : icons(meta.stars, meta.views, meta.comments.length)}\r\n\t\t\textra={!IsLoading && <img width={item.imageWidth} alt='logo' src={car.photo} />}\r\n\t\t>\r\n\t\t\t<Skeleton loading={IsLoading} active avatar paragraph={item.skeletonParagraph}>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\tavatar={<Avatar src={meta.avatar} />}\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t<Link to={routePaths.adView(adId.toString())}>\r\n\t\t\t\t\t\t\t{CarBrand[car.carBrand]} {CarModel[car.model]}, {car.yearOfIssue}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdescription={car.notes}\r\n\t\t\t\t/>\r\n\t\t\t\t{car.price} {car.modification} {Condition[car.condition]}\r\n\t\t\t</Skeleton>\r\n\t\t</List.Item>\r\n\t);\r\n};\r\n","import React, { ReactNode } from 'react';\r\nimport { List } from 'antd';\r\n\r\nimport { Item } from './item';\r\nimport { ListingProps } from './interfaces';\r\nimport { pageSize } from './settings';\r\n\r\nexport class Listing extends React.Component<ListingProps> {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.loadTotal();\r\n\t\tthis.props.loadAds(1, pageSize);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.reset();\r\n\t}\r\n\r\n\trender = (): ReactNode => {\r\n\t\tconst { items, total, loadAds: onChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<List\r\n\t\t\t\titemLayout='vertical'\r\n\t\t\t\tsize='large'\r\n\t\t\t\tpagination={{ pageSize, total, onChange }}\r\n\t\t\t\tdataSource={items}\r\n\t\t\t\trenderItem={Item}\r\n\t\t\t/>\r\n\t\t);\r\n\t};\r\n}\r\n","import { ActionCreator, Action } from 'redux';\r\n\r\nimport { ListingActionTypes } from './action-types';\r\nimport { Ad } from '../../../data-interfaces/interfaces/ad';\r\n\r\nconst adsFetched: ActionCreator<AdsFetchedAction> = (items: Ad[]) => ({\r\n\ttype: ListingActionTypes.ADS_FETCHED,\r\n\tpayload: { items },\r\n});\r\n\r\nconst reset: ActionCreator<ResetAction> = () => ({\r\n\ttype: ListingActionTypes.RESET,\r\n});\r\n\r\nconst setTotal: ActionCreator<SetTotalAction> = (total: number) => ({\r\n\ttype: ListingActionTypes.SET_TOTAL,\r\n\tpayload: { total },\r\n});\r\n\r\ninterface AdsFetchedAction extends Action<ListingActionTypes.ADS_FETCHED> {\r\n\tpayload: { items: Ad[] };\r\n}\r\n\r\ninterface ResetAction extends Action<ListingActionTypes.RESET> {}\r\n\r\ninterface SetTotalAction extends Action<ListingActionTypes.SET_TOTAL> {\r\n\tpayload: { total: number };\r\n}\r\n\r\nexport type ListingAction = AdsFetchedAction | ResetAction | SetTotalAction;\r\n\r\nexport { adsFetched, reset, setTotal };\r\n","import { ListingDispatch } from '../interfaces';\r\nimport { adsFetched, setTotal, reset } from './action-creators';\r\nimport { getAds, getAdsCount } from '../../../fake-server/fake-server';\r\n\r\nexport const loadAds = (page: number, pageSize: number | undefined) => async (\r\n\tdispatch: ListingDispatch,\r\n) => {\r\n\tdispatch(reset());\r\n\tconst result = await getAds(page, pageSize);\r\n\tdispatch(adsFetched(result));\r\n};\r\n\r\nexport const loadTotal = () => async (dispatch: ListingDispatch) => {\r\n\tconst result = await getAdsCount();\r\n\tdispatch(setTotal(result));\r\n};\r\n","import { connect } from 'react-redux';\r\n\r\nimport { Listing as ListingComponent } from './component';\r\nimport { ListingStateToProps, ListingDispatch, ListingDispatchToProps } from './interfaces';\r\nimport { ImmutableStore } from '../../store/root-reducer';\r\nimport { loadAds, loadTotal } from './actions/actions';\r\nimport { reset } from './actions/action-creators';\r\n\r\nconst mapStateToProps = (store: ImmutableStore): ListingStateToProps => ({\r\n\titems: store.getIn(['listing', 'items']),\r\n\tisLoaded: store.getIn(['listing', 'isLoaded']),\r\n\ttotal: store.getIn(['listing', 'total']),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ListingDispatch): ListingDispatchToProps => ({\r\n\tloadAds: async (page, pageSize) => dispatch(await loadAds(page, pageSize)),\r\n\treset: () => dispatch(reset()),\r\n\tloadTotal: () => dispatch(loadTotal()),\r\n});\r\n\r\nexport const Listing = connect<ListingStateToProps, ListingDispatchToProps, null, ImmutableStore>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(ListingComponent);\r\n","import styled from 'styled-components';\r\nimport { Form as AForm, Button, Select } from 'antd';\r\n\r\nconst Form = styled(AForm)`\r\n\t&& {\r\n\t\tmax-width: 500px;\r\n\t\tmin-width: 250px;\r\n\t\tmargin: 20px 200px;\r\n\t}\r\n`;\r\n\r\nconst SubmitButton = styled<any>(Button).attrs({ type: 'primary', htmlType: 'submit' })`\r\n\t&& {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n`;\r\n\r\nconst CurrenciesPostfix = styled<any>(Select)`\r\n\t&& {\r\n\t\twidth: 80px;\r\n\t}\r\n`;\r\n\r\nexport const Styled = {\r\n\tForm,\r\n\tSubmitButton,\r\n\tCurrenciesPostfix,\r\n};\r\n","export enum Currency {\r\n\tUSD,\r\n\tBYN,\r\n\tRUB,\r\n}\r\n","import { Currency } from './../../data-interfaces/enums/currency';\r\nimport { years } from './../../fake-server/fake-data';\r\nimport { mapArrayToSelectOptions, mapEnumToSelectOptions } from './../../helpers/mappers';\r\nimport { Condition, BodyType } from '../../data-interfaces/enums';\r\n\r\nexport const formName = 'ad';\r\n\r\nexport const fields = {\r\n\tcarBrand: 'carBrand',\r\n\tcarBrandLabel: 'Car Brand',\r\n\tmodel: 'model',\r\n\tmodelLabel: 'Model',\r\n\tyearOfIssue: 'yearOfIssue',\r\n\tyearOfIssueLabel: 'Year of issue',\r\n\tbodyType: 'bodyType',\r\n\tbodyTypeLabel: 'Body type',\r\n\tmodification: 'modification',\r\n\tmodificationLabel: 'Modification',\r\n\tcondition: 'condition',\r\n\tconditionLabel: 'Condition',\r\n\tprice: 'price',\r\n\tpriceLabel: 'Price',\r\n\tnotes: 'notes',\r\n\tnotesLabel: 'Notes',\r\n};\r\n\r\nexport const formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 },\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 },\r\n\t},\r\n};\r\n\r\nexport const tailFormItemLayout = {\r\n\twrapperCol: {\r\n\t\txs: {\r\n\t\t\tspan: 24,\r\n\t\t\toffset: 0,\r\n\t\t},\r\n\t\tsm: {\r\n\t\t\tspan: 16,\r\n\t\t\toffset: 8,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport const options = {\r\n\tyear: mapArrayToSelectOptions(years),\r\n\tbody: mapEnumToSelectOptions(BodyType),\r\n\tcondition: mapEnumToSelectOptions(Condition),\r\n\tcurrencies: mapEnumToSelectOptions(Currency),\r\n};\r\n","import React from 'react';\r\nimport { Select, Radio } from 'antd';\r\nimport { SelectOption } from '../data-interfaces/interfaces/select-option';\r\n\r\nconst { Option } = Select;\r\n\r\nexport const optionsFromSelectOptions = (selectOptions: SelectOption[]) =>\r\n\tselectOptions.map((option) => (\r\n\t\t<Option key={option.name} value={option.value}>\r\n\t\t\t{option.name}\r\n\t\t</Option>\r\n\t));\r\n\r\nexport const radiosFromSelectOptions = (selectOptions: SelectOption[]) =>\r\n\tselectOptions.map((option) => (\r\n\t\t<Radio key={option.name} value={option.value}>\r\n\t\t\t{option.name}\r\n\t\t</Radio>\r\n\t));\r\n","import React from 'react';\r\nimport { Field } from 'redux-form/immutable';\r\n\r\nimport { Select, RadioGroup } from '../../helpers/fields';\r\nimport { required } from '../../helpers/validation-rules';\r\nimport { AdFormCommonFieldProps } from './interfaces';\r\nimport { formItemLayout, options } from './form-settings';\r\nimport { optionsFromSelectOptions, radiosFromSelectOptions } from '../../helpers/form-helpers';\r\nimport { Styled } from './styled';\r\n\r\nexport const currenciesPostfix = () => (\r\n\t<Styled.CurrenciesPostfix defaultValue={options.currencies[0].value}>\r\n\t\t{optionsFromSelectOptions(options.currencies)}\r\n\t</Styled.CurrenciesPostfix>\r\n);\r\n\r\nexport const AdFormSelectField: React.FC<AdFormCommonFieldProps> = (props) => (\r\n\t<Field\r\n\t\tcomponent={Select}\r\n\t\tvalidate={required}\r\n\t\tonChangeCallback={props.onChangeCallback}\r\n\t\t{...props as AdFormCommonFieldProps}\r\n\t\t{...formItemLayout}\r\n\t\trequired={true}\r\n\t>\r\n\t\t{optionsFromSelectOptions(props.options)}\r\n\t</Field>\r\n);\r\n\r\nexport const AdFormRadioField: React.FC<AdFormCommonFieldProps> = (props) => {\r\n\tconst { options, ...propsWithoutOptions } = props;\r\n\treturn (\r\n\t\t<Field\r\n\t\t\tcomponent={RadioGroup}\r\n\t\t\tvalidate={required}\r\n\t\t\tonChangeCallback={props.onChangeCallback}\r\n\t\t\t{...propsWithoutOptions as AdFormCommonFieldProps}\r\n\t\t\t{...formItemLayout}\r\n\t\t\trequired={true}\r\n\t\t>\r\n\t\t\t{radiosFromSelectOptions(props.options)}\r\n\t\t</Field>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Form, Button } from 'antd';\r\nimport { Field } from 'redux-form/immutable';\r\n\r\nimport { required, onlyNumber } from '../../helpers/validation-rules';\r\nimport { Input, TextArea } from '../../helpers/fields';\r\nimport { Styled } from './styled';\r\nimport { AdFormSelectField, AdFormRadioField, currenciesPostfix } from './fields';\r\nimport { AdFormProps } from './interfaces';\r\nimport { options, formItemLayout, tailFormItemLayout, fields } from './form-settings';\r\nimport { routePaths } from '../../helpers/route-paths';\r\n\r\nexport class AdForm extends React.Component<AdFormProps> {\r\n\tasync componentDidMount() {\r\n\t\tif (this.props.match.path === routePaths.adEdit()) {\r\n\t\t\tthis.props.loadCar();\r\n\t\t} else {\r\n\t\t\tthis.props.loadBrands();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.resetForm();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleSubmit,\r\n\t\t\tpristine,\r\n\t\t\tsubmitting,\r\n\t\t\tbrandOptions,\r\n\t\t\tbrandsLoading,\r\n\t\t\tmodelOptions,\r\n\t\t\tmodelsLoading,\r\n\t\t\tmodelDisabled,\r\n\t\t\tchangeBrand,\r\n\t\t\tcancel,\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<Styled.Form onSubmit={handleSubmit}>\r\n\t\t\t\t<Field name='carId' component='input' type='hidden' />\r\n\t\t\t\t<Field name='photo' component='input' type='hidden' />\r\n\t\t\t\t<AdFormSelectField\r\n\t\t\t\t\tlabel={fields.carBrandLabel}\r\n\t\t\t\t\tname={fields.carBrand}\r\n\t\t\t\t\toptions={brandOptions.toJS()}\r\n\t\t\t\t\tloading={brandsLoading}\r\n\t\t\t\t\tdisabled={brandsLoading}\r\n\t\t\t\t\tonChangeCallback={changeBrand}\r\n\t\t\t\t/>\r\n\t\t\t\t<AdFormSelectField\r\n\t\t\t\t\tlabel={fields.modelLabel}\r\n\t\t\t\t\tname={fields.model}\r\n\t\t\t\t\toptions={modelOptions.toJS()}\r\n\t\t\t\t\tloading={modelsLoading}\r\n\t\t\t\t\tdisabled={modelDisabled}\r\n\t\t\t\t/>\r\n\t\t\t\t<AdFormSelectField\r\n\t\t\t\t\tlabel={fields.yearOfIssueLabel}\r\n\t\t\t\t\tname={fields.yearOfIssue}\r\n\t\t\t\t\toptions={options.year}\r\n\t\t\t\t/>\r\n\t\t\t\t<AdFormSelectField\r\n\t\t\t\t\tlabel={fields.bodyTypeLabel}\r\n\t\t\t\t\tname={fields.bodyType}\r\n\t\t\t\t\toptions={options.body}\r\n\t\t\t\t/>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tlabel={fields.modificationLabel}\r\n\t\t\t\t\tname={fields.modification}\r\n\t\t\t\t\tplaceholder={fields.modificationLabel}\r\n\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t/>\r\n\t\t\t\t<AdFormRadioField\r\n\t\t\t\t\tlabel={fields.conditionLabel}\r\n\t\t\t\t\tname={fields.condition}\r\n\t\t\t\t\toptions={options.condition}\r\n\t\t\t\t/>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tlabel={fields.priceLabel}\r\n\t\t\t\t\tname={fields.price}\r\n\t\t\t\t\tvalidate={[required, onlyNumber]}\r\n\t\t\t\t\trequired={true}\r\n\t\t\t\t\taddonAfter={currenciesPostfix()}\r\n\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t/>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tcomponent={TextArea}\r\n\t\t\t\t\tlabel={fields.notesLabel}\r\n\t\t\t\t\tname={fields.notes}\r\n\t\t\t\t\tplaceholder={fields.notesLabel}\r\n\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Item {...tailFormItemLayout}>\r\n\t\t\t\t\t<Styled.SubmitButton loading={submitting} disabled={pristine || submitting}>\r\n\t\t\t\t\t\tSumbit\r\n\t\t\t\t\t</Styled.SubmitButton>\r\n\t\t\t\t\t<Button onClick={cancel}>Cancel</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Styled.Form>\r\n\t\t);\r\n\t}\r\n}\r\n","import { AdFormValues } from './../interfaces';\r\nimport { ActionCreator, Action } from 'redux';\r\n\r\nimport { SelectOption } from './../../../data-interfaces/interfaces/select-option';\r\nimport { CarBrand } from './../../../data-interfaces/enums/car-brand';\r\nimport { AdActionTypes } from './action-types';\r\n\r\nconst getBrandsRequest: ActionCreator<GetBrandsRequestAction> = () => ({\r\n\ttype: AdActionTypes.GET_BRANDS_REQUEST,\r\n});\r\n\r\nconst brandsFetched: ActionCreator<BrandsFetchedAction> = (options: SelectOption[]) => ({\r\n\ttype: AdActionTypes.BRANDS_FETCHED,\r\n\tpayload: { options },\r\n});\r\n\r\nconst getModelsRequest: ActionCreator<GetModelsRequestAction> = (brand: CarBrand) => ({\r\n\ttype: AdActionTypes.GET_MODELS_REQUEST,\r\n\tpayload: { brand },\r\n});\r\n\r\nconst modelsFetched: ActionCreator<ModelsFetchedAction> = (options: SelectOption[]) => ({\r\n\ttype: AdActionTypes.MODELS_FETCHED,\r\n\tpayload: { options },\r\n});\r\n\r\nconst carLoaded: ActionCreator<CarLoadedAction> = (values: AdFormValues) => ({\r\n\ttype: AdActionTypes.CAR_LOADED,\r\n\tpayload: { values },\r\n});\r\n\r\nconst resetInitialValues: ActionCreator<ResetInitialValuesAction> = () => ({\r\n\ttype: AdActionTypes.RESET_INITIAL_VALUES,\r\n});\r\n\r\ninterface ResetInitialValuesAction extends Action<AdActionTypes.RESET_INITIAL_VALUES> {}\r\n\r\ninterface GetBrandsRequestAction extends Action<AdActionTypes.GET_BRANDS_REQUEST> {}\r\n\r\ninterface BrandsFetchedAction extends Action<AdActionTypes.BRANDS_FETCHED> {\r\n\tpayload: { options: SelectOption[] };\r\n}\r\n\r\ninterface GetModelsRequestAction extends Action<AdActionTypes.GET_MODELS_REQUEST> {\r\n\tpayload: { brand: CarBrand };\r\n}\r\n\r\ninterface ModelsFetchedAction extends Action<AdActionTypes.MODELS_FETCHED> {\r\n\tpayload: { options: SelectOption[] };\r\n}\r\n\r\ninterface CarLoadedAction extends Action<AdActionTypes.CAR_LOADED> {\r\n\tpayload: { values: AdFormValues };\r\n}\r\n\r\nexport type AdAction =\r\n\t| GetBrandsRequestAction\r\n\t| BrandsFetchedAction\r\n\t| GetModelsRequestAction\r\n\t| ModelsFetchedAction\r\n\t| CarLoadedAction\r\n\t| ResetInitialValuesAction;\r\n\r\nexport {\r\n\tgetBrandsRequest,\r\n\tgetModelsRequest,\r\n\tbrandsFetched,\r\n\tmodelsFetched,\r\n\tcarLoaded,\r\n\tresetInitialValues,\r\n};\r\n","import { message } from 'antd';\r\nimport { SubmissionError } from 'redux-form/immutable';\r\nimport { change, reset, initialize } from 'redux-form';\r\n\r\nimport { AdFormValues } from './../interfaces';\r\nimport { fields, formName } from './../form-settings';\r\nimport { CarBrand } from './../../../data-interfaces/enums/car-brand';\r\nimport { getBrands, getModels, getCar, saveCar } from '../../../fake-server/fake-server';\r\nimport { AdDispatch } from '../interfaces';\r\nimport {\r\n\tgetBrandsRequest,\r\n\tbrandsFetched,\r\n\tgetModelsRequest,\r\n\tmodelsFetched,\r\n\tcarLoaded,\r\n\tresetInitialValues,\r\n} from './action-creators';\r\nimport { contentLoading, contentLoaded } from '../../page/action-creators';\r\nimport { emptyAd } from '../../../fake-server/fake-data';\r\n\r\nexport const loadBrands = () => async (dispatch: AdDispatch) => {\r\n\tdispatch(reset(formName));\r\n\tdispatch(getBrandsRequest());\r\n\tconst result = await getBrands();\r\n\tdispatch(brandsFetched(result));\r\n};\r\n\r\nexport const changeBrand = (brand: CarBrand) => async (dispatch: AdDispatch) => {\r\n\tdispatch(change(formName, fields.model, null, false, false));\r\n\tdispatch(loadModels(brand));\r\n};\r\n\r\nexport const loadModels = (brand: CarBrand) => async (dispatch: AdDispatch) => {\r\n\tdispatch(getModelsRequest());\r\n\tconst result = await getModels(brand);\r\n\tdispatch(modelsFetched(result));\r\n};\r\n\r\nexport const loadCar = (carId: number, notFoundCallback: () => void) => async (\r\n\tdispatch: AdDispatch,\r\n) => {\r\n\tisNaN(carId) && notFoundCallback();\r\n\tdispatch(contentLoading());\r\n\tconst result = await getCar(carId);\r\n\tif (result) {\r\n\t\tdispatch(carLoaded(result));\r\n\t\tdispatch(initialize(formName, result));\r\n\t\tawait dispatch(loadBrands());\r\n\t\tawait dispatch(loadModels(result.carBrand));\r\n\t} else {\r\n\t\tnotFoundCallback();\r\n\t}\r\n\tdispatch(contentLoaded());\r\n};\r\n\r\nexport const submit = async (values: AdFormValues, successCallback: () => void) => {\r\n\tconst result = await saveCar(values);\r\n\tif (result.errors) {\r\n\t\tmessage.error(result.errors.error);\r\n\t\tthrow new SubmissionError(result.errors);\r\n\t} else {\r\n\t\tmessage.success('Ad was successfully added');\r\n\t\tsuccessCallback();\r\n\t}\r\n};\r\n\r\nexport const formReset = () => (dispatch: AdDispatch) => {\r\n\tdispatch(resetInitialValues());\r\n\tdispatch(reset(formName));\r\n\tdispatch(initialize(formName, emptyAd));\r\n};\r\n","import { reduxForm } from 'redux-form/immutable';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { AdForm as AdFormComponent } from './form';\r\nimport { ImmutableStore } from '../../store/root-reducer';\r\nimport { loadBrands, loadCar, changeBrand, submit, formReset } from './actions/actions';\r\nimport {\r\n\tAdFormStateToProps,\r\n\tAdFormValues,\r\n\tPropsFromConnect,\r\n\tAdDispatch,\r\n\tAdFormDispatchToProps,\r\n\tRouteProps,\r\n} from './interfaces';\r\nimport { withRouter } from 'react-router';\r\nimport { formName } from './form-settings';\r\nimport { routePaths } from '../../helpers/route-paths';\r\nimport { StrictImmutable } from '../../helpers/strict-immutable';\r\n\r\nconst mapStateToProps = (state: ImmutableStore): AdFormStateToProps => ({\r\n\tbrandOptions: state.getIn(['ad', 'brandOptions']),\r\n\tmodelOptions: state.getIn(['ad', 'modelOptions']),\r\n\tbrandsLoading: state.getIn(['ad', 'brandsLoading']),\r\n\tmodelsLoading: state.getIn(['ad', 'modelsLoading']),\r\n\tmodelDisabled: state.getIn(['ad', 'modelDisabled']),\r\n\tinitialValues: state.getIn(['ad', 'initialValues'])!,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: AdDispatch, props: RouteProps): AdFormDispatchToProps => {\r\n\tconst adId = Number(props.match.params.id);\r\n\tconst notFoundRedirect = () => props.history.push(routePaths.notFound);\r\n\treturn {\r\n\t\tresetForm: () => dispatch(formReset()),\r\n\t\tloadBrands: async () => dispatch(await loadBrands()),\r\n\t\tchangeBrand: async (brand) => dispatch(await changeBrand(brand)),\r\n\t\tloadCar: async () => dispatch(await loadCar(adId, notFoundRedirect)),\r\n\t\tcancel: () => props.history.push(routePaths.home),\r\n\t};\r\n};\r\n\r\nconst AdForm = reduxForm<StrictImmutable<AdFormValues>, PropsFromConnect>({\r\n\tform: formName,\r\n\tonSubmit: async (values, dispatch, props) => {\r\n\t\treturn submit(values.toJS(), () => props.history.push(routePaths.home));\r\n\t},\r\n})(AdFormComponent);\r\n\r\nexport const ReduxAdForm = connect<\r\n\tAdFormStateToProps,\r\n\tAdFormDispatchToProps,\r\n\tRouteProps,\r\n\tImmutableStore\r\n>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(AdForm);\r\n\r\nexport const AdEditPage = withRouter(ReduxAdForm);\r\n","import styled from 'styled-components';\r\n\r\nconst LabelInformation = styled.div`\r\n\tmargin-bottom: 10px;\r\n`;\r\n\r\nconst Value = styled.span`\r\n\tcolor: black;\r\n\tright: 50px;\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n`;\r\n\r\nexport const Styled = {\r\n\tLabelInformation,\r\n\tValue,\r\n};\r\n","import React from 'react';\r\nimport { Styled } from './styled';\r\n\r\ninterface LabelInformationProps {\r\n\tlabel: string;\r\n\tvalue: string | number;\r\n}\r\n\r\nexport const LabelInformation: React.FC<LabelInformationProps> = ({ label, value }) => (\r\n\t<Styled.LabelInformation>\r\n\t\t{label} <Styled.Value>{value}</Styled.Value>\r\n\t</Styled.LabelInformation>\r\n);\r\n","import React from 'react';\r\nimport { Form, Button, Input } from 'antd';\r\n\r\nconst TextArea = Input.TextArea;\r\n\r\ninterface EditorProps {\r\n\tvalue: string;\r\n\tsubmitting: boolean;\r\n\tonSubmit: () => void;\r\n\tonChange: (e: any) => void;\r\n}\r\n\r\nexport const Editor: React.FC<EditorProps> = ({ onChange, onSubmit, submitting, value }) => (\r\n\t<div>\r\n\t\t<Form.Item>\r\n\t\t\t<TextArea rows={4} onChange={onChange} value={value} />\r\n\t\t</Form.Item>\r\n\t\t<Form.Item>\r\n\t\t\t<Button type='primary' htmlType='submit' loading={submitting} disabled={!value} onClick={onSubmit}>\r\n\t\t\t\tAdd Comment\r\n\t\t\t</Button>\r\n\t\t</Form.Item>\r\n\t</div>\r\n);\r\n","import React from 'react';\r\nimport { Comment, List } from 'antd';\r\n\r\nimport { CommentData } from './interfaces';\r\nimport { CommentProps } from 'antd/lib/comment';\r\n\r\ninterface CommentListProps {\r\n\tcomments: CommentData[];\r\n}\r\n\r\nexport const CommentList: React.FC<CommentListProps> = ({ comments }) => (\r\n\t<List\r\n\t\tdataSource={comments.map((c) => ({ ...c, content: <p>{c.text}</p> }))}\r\n\t\theader={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\r\n\t\titemLayout='horizontal'\r\n\t\trenderItem={Item}\r\n\t/>\r\n);\r\n\r\nconst Item = (props: CommentProps) => <Comment {...props} />;\r\n","import React from 'react';\r\nimport { Comment, Avatar } from 'antd';\r\n\r\nimport { Editor } from './editor';\r\nimport { CommentList } from './comment-list';\r\nimport { CommentsProps } from './interfaces';\r\n\r\nexport class Comments extends React.Component<CommentsProps> {\r\n\tstate = {\r\n\t\tvalue: '',\r\n\t};\r\n\r\n\thandleSubmit = async () => {\r\n\t\tthis.state.value && (await this.props.submit(this.state.value));\r\n\t\tthis.setState({\r\n\t\t\tvalue: '',\r\n\t\t});\r\n\t};\r\n\r\n\thandleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tthis.setState({\r\n\t\t\tvalue: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { value } = this.state;\r\n\t\tconst { comments, submitting, avatar, isAuth } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{comments.length > 0 && <CommentList comments={comments} />}\r\n\t\t\t\t{isAuth && (\r\n\t\t\t\t\t<Comment\r\n\t\t\t\t\t\tavatar={<Avatar src={avatar} />}\r\n\t\t\t\t\t\tcontent={\r\n\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\tonSubmit={this.handleSubmit}\r\n\t\t\t\t\t\t\t\tsubmitting={submitting}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import { ActionCreator, Action } from 'redux';\r\n\r\nimport { ViewActionTypes } from './action-types';\r\nimport { Ad } from '../../../data-interfaces/interfaces/ad';\r\nimport { Comment } from '../../../data-interfaces/interfaces/comment';\r\n\r\nconst adFetched: ActionCreator<AdFetchedAction> = (data: Ad) => ({\r\n\ttype: ViewActionTypes.AD_FETCHED,\r\n\tpayload: { data },\r\n});\r\n\r\nconst setIsOwner: ActionCreator<SetIsOwnerAction> = (isOwner: boolean) => ({\r\n\ttype: ViewActionTypes.SET_IS_OWNER,\r\n\tpayload: { isOwner },\r\n});\r\n\r\nconst setRemoving: ActionCreator<SetRemovingAction> = (removing: boolean) => ({\r\n\ttype: ViewActionTypes.SET_REMOVING,\r\n\tpayload: { removing },\r\n});\r\n\r\nconst setCommenting: ActionCreator<SetCommentingAction> = (commenting: boolean) => ({\r\n\ttype: ViewActionTypes.SET_COMMENTING,\r\n\tpayload: { commenting },\r\n});\r\n\r\nconst pushComment: ActionCreator<PushCommentAction> = (comment: Comment) => ({\r\n\ttype: ViewActionTypes.PUSH_COMMENT,\r\n\tpayload: { comment },\r\n});\r\n\r\ninterface AdFetchedAction extends Action<ViewActionTypes.AD_FETCHED> {\r\n\tpayload: { data: Ad };\r\n}\r\n\r\ninterface SetIsOwnerAction extends Action<ViewActionTypes.SET_IS_OWNER> {\r\n\tpayload: { isOwner: boolean };\r\n}\r\n\r\ninterface SetRemovingAction extends Action<ViewActionTypes.SET_REMOVING> {\r\n\tpayload: { removing: boolean };\r\n}\r\n\r\ninterface SetCommentingAction extends Action<ViewActionTypes.SET_COMMENTING> {\r\n\tpayload: { commenting: boolean };\r\n}\r\n\r\ninterface PushCommentAction extends Action<ViewActionTypes.PUSH_COMMENT> {\r\n\tpayload: { comment: Comment };\r\n}\r\n\r\nexport type ViewAction =\r\n\t| AdFetchedAction\r\n\t| SetIsOwnerAction\r\n\t| SetRemovingAction\r\n\t| SetCommentingAction\r\n\t| PushCommentAction;\r\n\r\nexport { adFetched, setIsOwner, setRemoving, setCommenting, pushComment };\r\n","import { message } from 'antd';\r\nimport { SubmissionError } from 'redux-form/immutable';\r\n\r\nimport { ViewDispatch } from './../interfaces';\r\nimport {\r\n\tgetAd,\r\n\tisOwner,\r\n\tremoveCar,\r\n\tcommentOn as commentOnCall,\r\n} from '../../../fake-server/fake-server';\r\nimport { adFetched, setIsOwner, setRemoving, setCommenting, pushComment } from './action-creators';\r\nimport { contentLoading, contentLoaded } from '../../page/action-creators';\r\nimport { ImmutableStore } from '../../../store/root-reducer';\r\nimport { StrictImmutable } from '../../../helpers/strict-immutable';\r\nimport { Ad } from '../../../data-interfaces/interfaces/ad';\r\n\r\nexport const loadAd = (adId: number, notFoundCallback: () => void) => async (\r\n\tdispatch: ViewDispatch,\r\n) => {\r\n\tisNaN(adId) && notFoundCallback();\r\n\tdispatch(contentLoading());\r\n\tconst result = await getAd(adId);\r\n\tif (result) {\r\n\t\tconst isOwnerResult = await isOwner(adId);\r\n\t\tdispatch(setIsOwner(isOwnerResult));\r\n\t\tdispatch(adFetched(result));\r\n\t} else {\r\n\t\tnotFoundCallback();\r\n\t}\r\n\tdispatch(contentLoaded());\r\n};\r\n\r\nexport const remove = (carId: number, successCallback: () => void) => async (\r\n\tdispatch: ViewDispatch,\r\n) => {\r\n\tdispatch(setRemoving(true));\r\n\tconst result = await removeCar(carId);\r\n\tif (result.errors) {\r\n\t\tmessage.error(result.errors.error);\r\n\t\tthrow new SubmissionError(result.errors);\r\n\t} else {\r\n\t\tmessage.success('Ad was successfully removed');\r\n\t\tsuccessCallback();\r\n\t}\r\n\tdispatch(setRemoving(false));\r\n};\r\n\r\nexport const commentOn = (text: string) => async (\r\n\tdispatch: ViewDispatch,\r\n\tgetState: () => ImmutableStore,\r\n) => {\r\n\tdispatch(setCommenting(true));\r\n\tconst state = getState();\r\n\tconst comment = {\r\n\t\ttext,\r\n\t\tadId: ((state.getIn(['view', 'data']) as unknown) as StrictImmutable<Ad>).get('adId'),\r\n\t\tuserId: state.getIn(['userAuth', 'userId'])!,\r\n\t\tdateTime: new Date().toLocaleString(),\r\n\t};\r\n\tconst result = await commentOnCall(comment);\r\n\tdispatch(pushComment(result));\r\n\tdispatch(setCommenting(false));\r\n};\r\n","import { ImmutableStore } from '../../../store/root-reducer';\r\nimport { CommentData } from '../../../components/comment/interfaces';\r\nimport { Comment } from '../../../data-interfaces/interfaces/comment';\r\nimport { Ad } from '../../../data-interfaces/interfaces/ad';\r\nimport { StrictImmutable, StrictImmutableList } from '../../../helpers/strict-immutable';\r\n\r\nconst mapCommentToCommentData = (comment: Comment): CommentData => {\r\n\treturn {\r\n\t\tauthor: comment.author,\r\n\t\tavatar: comment.avatar,\r\n\t\ttext: comment.text,\r\n\t\tdatetime: comment.dateTime,\r\n\t};\r\n};\r\n\r\nexport const getComments = (state: ImmutableStore): CommentData[] =>\r\n\t(((state.getIn(['view', 'data']) as unknown) as StrictImmutable<Ad>).getIn([\r\n\t\t'meta',\r\n\t\t'comments',\r\n\t]) as StrictImmutableList<Comment>)\r\n\t\t.toJS()\r\n\t\t.map((x: any) => mapCommentToCommentData(x));\r\n\r\nexport const getAd = (state: ImmutableStore): Ad =>\r\n\t((state.getIn(['view', 'data']) as unknown) as StrictImmutable<Ad>).toJS();\r\n","import { connect } from 'react-redux';\r\n\r\nimport { defaultAvatar } from '../../../fake-server/fake-data';\r\nimport { Comments as CommentsComponent } from '../../../components/comment/comments';\r\nimport { ImmutableStore } from '../../../store/root-reducer';\r\nimport { CommentsStateToProps, CommentsDispatchToProps } from './interfaces';\r\nimport { ViewDispatch } from '../interfaces';\r\nimport { commentOn } from '../actions/actions';\r\nimport { getComments } from '../selectors';\r\n\r\nconst mapStateToProps = (state: ImmutableStore): CommentsStateToProps => ({\r\n\tavatar: defaultAvatar,\r\n\tcomments: getComments(state),\r\n\tsubmitting: state.getIn(['view', 'commenting']),\r\n\tisAuth: !!state.getIn(['userAuth', 'userId']),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ViewDispatch): CommentsDispatchToProps => {\r\n\treturn {\r\n\t\tsubmit: async (value) => dispatch(await commentOn(value)),\r\n\t};\r\n};\r\n\r\nexport const Comments = connect<\r\n\tCommentsStateToProps,\r\n\tCommentsDispatchToProps,\r\n\tnull,\r\n\tImmutableStore\r\n>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(CommentsComponent);\r\n","import styled from 'styled-components';\r\nimport { Button } from 'antd';\r\n\r\nconst EditButton = styled<any>(Button).attrs({ icon: 'edit' })``;\r\n\r\nconst RemoveButton = styled<any>(Button).attrs({ type: 'danger', icon: 'delete' })`\r\n\tmargin-left: 10px;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n\tfloat: right;\r\n`;\r\n\r\nexport const Styled = {\r\n\tRemoveButton,\r\n\tEditButton,\r\n\tButtons,\r\n};\r\n","import { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { routePaths } from '../../../helpers/route-paths';\r\nimport { ImmutableStore } from '../../../store/root-reducer';\r\nimport { ViewDispatch } from '../interfaces';\r\nimport { remove } from '../actions/actions';\r\nimport { Buttons as ButtonsComponent } from './component';\r\nimport { ButtonsStateToProps, ButtonsOwnProps, ButtonsDispatchToProps } from './interfaces';\r\n\r\nconst mapStateToProps = (state: ImmutableStore): ButtonsStateToProps => ({\r\n\tremoving: state.getIn(['view', 'removing']),\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ViewDispatch,\r\n\tprops: ButtonsOwnProps,\r\n): ButtonsDispatchToProps => {\r\n\tconst successRedirect = () => props.history.push(routePaths.home);\r\n\treturn {\r\n\t\tedit: () => props.history.push(routePaths.adEdit(`${props.carId}`)),\r\n\t\tremove: async () => dispatch(await remove(props.carId, successRedirect)),\r\n\t};\r\n};\r\n\r\nconst ConnectedButtons = connect<\r\n\tButtonsStateToProps,\r\n\tButtonsDispatchToProps,\r\n\tButtonsOwnProps,\r\n\tImmutableStore\r\n>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(ButtonsComponent);\r\n\r\nexport const Buttons = withRouter(ConnectedButtons);\r\n","import React from 'react';\r\n\r\nimport { ButtonsProps } from './interfaces';\r\nimport { Styled } from './styled';\r\n\r\nexport const Buttons: React.FC<ButtonsProps> = ({ edit, remove, removing }) => (\r\n\t<Styled.Buttons>\r\n\t\t<Styled.EditButton onClick={edit}>Edit</Styled.EditButton>\r\n\t\t<Styled.RemoveButton onClick={remove} loading={removing}>\r\n\t\t\tRemove\r\n\t\t</Styled.RemoveButton>\r\n\t</Styled.Buttons>\r\n);\r\n","import styled from 'styled-components';\r\nimport { List, Row as ARow } from 'antd';\r\n\r\nconst Item = styled(List.Item)`\r\n\t&& {\r\n\t\tborder-bottom: 1px solid #e8e8e8;\r\n\t\tmargin-bottom: 10px;\r\n\t\tmargin-top: -10px;\r\n\t}\r\n`;\r\n\r\nconst Row = styled(ARow)`\r\n\t&& {\r\n\t\tborder-bottom: 1px solid #e8e8e8;\r\n\t\tmargin-bottom: 15px;\r\n\t\tpadding-bottom: 20px;\r\n\t}\r\n`;\r\n\r\nconst Information = styled.div`\r\n\tmargin: 10px;\r\n\tmargin-right: 20px;\r\n`;\r\n\r\nconst Labels = styled.div`\r\n\tmargin: 30px;\r\n\tfont-size: 15px;\r\n`;\r\n\r\nconst Price = styled.h1`\r\n\tborder-bottom: 1px solid #e8e8e8;\r\n`;\r\n\r\nexport const Styled = {\r\n\tInformation,\r\n\tLabels,\r\n\tPrice,\r\n\tItem,\r\n\tRow,\r\n};\r\n","import React, { ReactNode } from 'react';\r\nimport { Col } from 'antd';\r\n\r\nimport { icons } from '../../components/icons';\r\nimport { AdViewProps } from './interfaces';\r\nimport { LabelInformation } from './label-infromation';\r\nimport { CarModel, CarBrand, BodyType, Condition } from '../../data-interfaces/enums';\r\nimport { Comments } from './comments';\r\nimport { Buttons } from './buttons';\r\n\r\nimport { Styled } from './styled';\r\n\r\nconst labels = {\r\n\tyearOfIssue: 'Year of issue',\r\n\tbodyType: 'Body type',\r\n\tcondition: 'Condition',\r\n};\r\n\r\nexport class AdView extends React.Component<AdViewProps> {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.loadAd();\r\n\t}\r\n\r\n\trender = (): ReactNode => {\r\n\t\tconst {\r\n\t\t\tdata: { car, meta },\r\n\t\t\tisOwner,\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>\r\n\t\t\t\t\t{CarBrand[car.carBrand]} {CarModel[car.model]}, {car.yearOfIssue}\r\n\t\t\t\t\t{isOwner && <Buttons carId={car.carId} />}\r\n\t\t\t\t</h1>\r\n\t\t\t\t<Styled.Item actions={icons(meta.stars, meta.views, meta.comments.length)} />\r\n\t\t\t\t<Styled.Row>\r\n\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t<Styled.Information>\r\n\t\t\t\t\t\t\t<Styled.Price>{car.price} $</Styled.Price>\r\n\t\t\t\t\t\t\t<Styled.Labels>\r\n\t\t\t\t\t\t\t\t<LabelInformation label={labels.yearOfIssue} value={car.yearOfIssue} />\r\n\t\t\t\t\t\t\t\t<LabelInformation label={labels.bodyType} value={BodyType[car.bodyType]} />\r\n\t\t\t\t\t\t\t\t<LabelInformation label={labels.condition} value={Condition[car.condition]} />\r\n\t\t\t\t\t\t\t</Styled.Labels>\r\n\t\t\t\t\t\t</Styled.Information>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={16}>\r\n\t\t\t\t\t\t<img width={600} alt='logo' src={car.photo} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Styled.Row>\r\n\t\t\t\t<Comments />\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n}\r\n","import { connect } from 'react-redux';\r\n\r\nimport { AdView as AdViewComponent } from './component';\r\nimport { AdViewStateToProps, AdViewDispatchToProps, ViewDispatch, RootProps } from './interfaces';\r\nimport { ImmutableStore } from '../../store/root-reducer';\r\nimport { loadAd } from './actions/actions';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { routePaths } from '../../helpers/route-paths';\r\nimport { getAd } from './selectors';\r\n\r\nconst mapStateToProps = (state: ImmutableStore): AdViewStateToProps => ({\r\n\tdata: getAd(state),\r\n\tisOwner: state.getIn(['view', 'isOwner']),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ViewDispatch, props: RootProps): AdViewDispatchToProps => {\r\n\tconst adId = Number(props.match.params.id);\r\n\tconst notFoundRedirect = () => props.history.push(routePaths.notFound);\r\n\treturn {\r\n\t\tloadAd: async () => dispatch(await loadAd(adId, notFoundRedirect)),\r\n\t};\r\n};\r\n\r\nconst AdView = connect<AdViewStateToProps, AdViewDispatchToProps, RootProps, ImmutableStore>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(AdViewComponent);\r\n\r\nexport const AdViewPage = withRouter(AdView);\r\n","import React from 'react';\r\n\r\nexport const NotFound: React.FC = () => <h2>NotFound</h2>;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { ImmutableStore } from '../../store/root-reducer';\r\n\r\nexport interface AuthorizationProps {\r\n\tisAuthorized: boolean;\r\n}\r\n\r\nexport const withAuthorization = <P extends {}>(Component: React.ComponentType<P>) => {\r\n\tconst authorize = (props: AuthorizationProps) => {\r\n\t\tconst { isAuthorized, ...componentProps } = props as AuthorizationProps;\r\n\t\treturn isAuthorized ? <Component {...componentProps as P} /> : <Redirect to='/login' />;\r\n\t};\r\n\tconst mapStateToProps = (store: ImmutableStore): AuthorizationProps => ({\r\n\t\tisAuthorized: !!store.getIn(['userAuth', 'userId']),\r\n\t});\r\n\treturn connect(mapStateToProps)(authorize);\r\n};\r\n","import { cars, users, ads } from './../../fake-server/fake-data';\r\nimport { LocalStorageKeys } from '../../fake-server/helpers';\r\n\r\nexport const initData = () => {\r\n\tsetDataToLocalStorage(LocalStorageKeys.cars, cars);\r\n\tsetDataToLocalStorage(LocalStorageKeys.users, users);\r\n\tsetDataToLocalStorage(LocalStorageKeys.ads, ads);\r\n};\r\n\r\nconst setDataToLocalStorage = (key: LocalStorageKeys, data: any[]) => {\r\n\tconst dataFromStorage = localStorage.getItem(key);\r\n\tif (!dataFromStorage) {\r\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\r\n\t}\r\n};\r\n","import { Spin as ASpin, Layout as ALayout } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nconst Spin = styled(ASpin)`\r\n\t&& {\r\n\t\tmargin: auto;\r\n\t\tpadding-bottom: 250px;\r\n\t}\r\n`;\r\n\r\nconst Layout = styled(ALayout)`\r\n\t&& {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n`;\r\n\r\nexport const Styled = {\r\n\tSpin,\r\n\tLayout,\r\n};\r\n","import React from 'react';\r\nimport { Styled } from './styled';\r\n\r\nexport const Loading: React.FC = () => (\r\n\t<Styled.Layout>\r\n\t\t<Styled.Spin tip='Loading...' size='large' />\r\n\t</Styled.Layout>\r\n);\r\n","import React, { ReactNode } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { Layout } from '../layout';\r\nimport { LoginPage } from '../../pages/login';\r\nimport { Listing } from '../../pages/listing';\r\nimport { AdEditPage } from '../../pages/ad-edit';\r\nimport { AdViewPage } from '../../pages/ad-view';\r\nimport { NotFound } from '../../pages/not-found';\r\nimport { withAuthorization } from '../../helpers/hocs/authorization';\r\nimport { routePaths } from '../../helpers/route-paths';\r\nimport { initData } from './actions';\r\nimport { AppProps } from './interfaces';\r\nimport { Loading } from '../../pages/loading';\r\n\r\nexport class App extends React.Component<AppProps> {\r\n\tcomponentDidMount() {\r\n\t\tinitData();\r\n\t\tthis.props.initAuth();\r\n\t}\r\n\r\n\trender = (): ReactNode =>\r\n\t\tthis.props.isLoading ? (\r\n\t\t\t<Loading />\r\n\t\t) : (\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path={routePaths.login} component={LoginPage} />\r\n\t\t\t\t<Route path={routePaths.register} component={LoginPage} />\r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path={routePaths.home} component={Listing} />\r\n\t\t\t\t\t\t<Route path={routePaths.adCreate} component={withAuthorization(AdEditPage)} />\r\n\t\t\t\t\t\t<Route path={routePaths.adEdit()} component={withAuthorization(AdEditPage)} />\r\n\t\t\t\t\t\t<Route path={routePaths.adView()} component={AdViewPage} />\r\n\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Switch>\r\n\t\t);\r\n}\r\n","import { connect } from 'react-redux';\r\n\r\nimport { App as AppComponent } from './component';\r\nimport { AuthDispatch, initAuth } from '../../auth/actions';\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport { ImmutableStore } from '../../store/root-reducer';\r\nimport { AppStateProps, AppDispatchProps } from './interfaces';\r\n\r\nconst mapStateToProps = (store: ImmutableStore): AppStateProps => ({\r\n\tisLoading: store.getIn(['page', 'pageIsLoading'])!,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: AuthDispatch): AppDispatchProps => ({\r\n\tinitAuth: async () => dispatch(await initAuth()),\r\n});\r\n\r\nconst App = connect<AppStateProps, AppDispatchProps, RouteComponentProps, ImmutableStore>(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps,\r\n)(AppComponent);\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport store from './store';\r\nimport { ErrorBoundary } from './components/error-boundary';\r\nimport App from './components/app';\r\n\r\nimport './styles/index.css';\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<ErrorBoundary>\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<App />\r\n\t\t\t</BrowserRouter>\r\n\t\t</ErrorBoundary>\r\n\t</Provider>,\r\n\tdocument.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}